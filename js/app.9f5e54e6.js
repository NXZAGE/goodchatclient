(function(){"use strict";var e={7927:function(e,t,s){var n=s(9242),i=s(3396),a=s.p+"img/logo.1197bc08.png";const o={class:"header_menu"},r=(0,i._)("img",{src:a,class:"logo_h",alt:"Feed"},null,-1),d={key:0,class:"auth_box"},l=["src"],c={key:1,class:"auth_box"},u=(0,i.Uk)("Registration"),m=(0,i.Uk)("Login"),h={class:"main"};function p(e,t,s,n,a,p){const g=(0,i.up)("router-link"),f=(0,i.up)("side-menu"),_=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("header",null,[(0,i._)("div",o,[(0,i.Wm)(g,{to:"/feed",class:"logo_h"},{default:(0,i.w5)((()=>[r])),_:1})]),e.$store.state.auth.status.loggedIn?((0,i.wg)(),(0,i.iD)("div",d,[(0,i._)("img",{class:"image_avatar header_avatar",src:e.$store.state.auth.user.avatar},null,8,l),(0,i._)("a",{disabled:"",class:"auth_btn",onClick:t[0]||(t[0]=(...e)=>p.logout&&p.logout(...e))},"Exit")])):((0,i.wg)(),(0,i.iD)("div",c,[(0,i.Wm)(g,{to:"/registration",class:"auth_reg_btn"},{default:(0,i.w5)((()=>[u])),_:1}),(0,i.Wm)(g,{to:"/login",class:"auth_btn"},{default:(0,i.w5)((()=>[m])),_:1})]))]),(0,i.Wm)(f),(0,i._)("div",h,[(0,i.Wm)(_)])],64)}const g={class:"navigation"},f={class:"side_menu"},_={id:"prof",class:"side_icon"},v=(0,i._)("i",{class:"fa-regular fa-user icona"},null,-1),y=(0,i._)("i",{class:"fa-regular fa-user icona"},null,-1),w={id:"mes",class:"side_icon"},b=(0,i._)("i",{class:"fa-regular fa-comment-dots icona"},null,-1),k={id:"friend",class:"side_icon"},C=(0,i._)("i",{class:"fa-solid fa-user-group icona"},null,-1),I=(0,i._)("i",{class:"fa-solid fa-user-group icona"},null,-1),E={id:"set",class:"side_icon"},B=(0,i._)("i",{class:"fa-solid fa-gear icona"},null,-1),D={id:"glob",class:"side_icon"},F=(0,i._)("i",{class:"fa-solid fa-globe icona"},null,-1),x={id:"book",class:"side_icon"},$=(0,i._)("i",{class:"fa-regular fa-bookmark icona"},null,-1),L={id:"add",class:"side_icon"},N=(0,i._)("i",{class:"fa-solid fa-plus icona"},null,-1),q={id:"f",class:"side_icon"},P=(0,i._)("i",{class:"fa-solid fa-magnifying-glass icona"},null,-1);function U(e,t){const s=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",g,[(0,i._)("div",f,[(0,i._)("div",_,[e.$store.state.auth.status.loggedIn?((0,i.wg)(),(0,i.j4)(s,{key:0,to:`/profile/${e.$store.state.auth.user.id}`,class:"hr"},{default:(0,i.w5)((()=>[v])),_:1},8,["to"])):((0,i.wg)(),(0,i.j4)(s,{key:1,to:"/login",class:"hr"},{default:(0,i.w5)((()=>[y])),_:1}))]),(0,i._)("div",w,[(0,i.Wm)(s,{to:"/chatlist",class:"hr"},{default:(0,i.w5)((()=>[b])),_:1})]),(0,i._)("div",k,[e.$store.state.auth.status.loggedIn?((0,i.wg)(),(0,i.j4)(s,{key:0,to:`/friendlist/${e.$store.state.auth.user.id}`,class:"hr"},{default:(0,i.w5)((()=>[C])),_:1},8,["to"])):((0,i.wg)(),(0,i.j4)(s,{key:1,to:"/login",class:"hr"},{default:(0,i.w5)((()=>[I])),_:1}))]),(0,i._)("div",E,[(0,i.Wm)(s,{to:"/settings",class:"hr"},{default:(0,i.w5)((()=>[B])),_:1})]),(0,i._)("div",D,[(0,i.Wm)(s,{to:"/feed",class:"hr"},{default:(0,i.w5)((()=>[F])),_:1})]),(0,i._)("div",x,[(0,i.Wm)(s,{to:"/bookmarks",class:"hr"},{default:(0,i.w5)((()=>[$])),_:1})]),(0,i._)("div",L,[(0,i.Wm)(s,{to:"/addpost",class:"hr"},{default:(0,i.w5)((()=>[N])),_:1})]),(0,i._)("div",q,[(0,i.Wm)(s,{to:"/findfriend",class:"hr"},{default:(0,i.w5)((()=>[P])),_:1})])])])}var S=s(89);const j={},z=(0,S.Z)(j,[["render",U]]);var A=z,R={components:{SideMenu:A},methods:{logout(){this.$store.dispatch("auth/logout"),location.reload(!0)}}};const M=(0,S.Z)(R,[["render",p]]);var T=M,Z=s(2483),W=s(4161);class O{getToken(){let e=localStorage.getItem("token");return!!e&&JSON.parse(e)}setToken(e){e&&e.access&&e.refresh&&localStorage.setItem("token",JSON.stringify(e))}refreshToken(){let e="https://goodchat.pythonanywhere.com/api/token/refresh",t=this.getToken(),s={refresh:t.refresh};return W.Z.post(e,s).then((e=>(e.data&&(t.access=e.data.access,this.setToken(t)),e.data)))}removeToken(){localStorage.removeItem("token")}}var H=new O;function Y(){let e=H.getToken();return e?{Authorization:`Bearer ${e.access}`}:{}}const V=W.Z.create({baseURL:"https://goodchat.pythonanywhere.com/api/",timeout:1500});V.interceptors.request.use((async e=>(e.headers={...e.headers,...Y()},e)),(e=>Promise.reject(e))),V.interceptors.response.use((e=>e),(async e=>{const t=e.config;if(e.response&&401===e.response.status&&!t.sent){t.sent=!0;const e=await H.refreshToken().then((e=>e));return e.access?t.headers={...t.headers,Authorization:`Bearer ${e.access}`}:(H.removeToken(),Q.removeUser(),location.reload(!0)),V(t)}return Promise.reject(e)}));var K=V;class J{getUser(){let e=localStorage.getItem("user");return!!e&&JSON.parse(e)}setUser(e){return!!(e.id&&e.name&&e.surname&&e.login)&&(localStorage.setItem("user",JSON.stringify(e)),!0)}removeUser(){localStorage.removeItem("user")}loadUser(){return K.get("profile/self").then((e=>(e.data&&this.setUser(e.data.user),e.data.user)))}}var Q=new J,G=s(7139);const X={class:"reg_box"},ee={class:"input_form"},te=(0,i._)("h1",{class:"reg-header"},"Registration",-1),se=(0,i._)("br",null,null,-1),ne=(0,i._)("a",{class:"auth-link",href:"login"},"Already a gogorik?",-1);function ie(e,t,s,n,a,o){const r=(0,i.up)("club-rules"),d=(0,i.up)("registration-form");return(0,i.wg)(),(0,i.iD)("div",X,[(0,i.Wm)(r),(0,i._)("div",ee,[te,se,(0,i.Wm)(d,{onRegister:o.register},null,8,["onRegister"]),a.message?((0,i.wg)(),(0,i.iD)("p",{key:0,class:(0,G.C_)(`${a.message.type}`)},(0,G.zw)(a.message.content),3)):(0,i.kq)("",!0),ne])])}s(7658);const ae={class:"form-reg"};function oe(e,t,s,a,o,r){return(0,i.wg)(),(0,i.iD)("form",ae,[(0,i.wy)((0,i._)("input",{type:"text",class:"form-input",placeholder:"Name","onUpdate:modelValue":t[0]||(t[0]=e=>o.user.name=e)},null,512),[[n.nr,o.user.name]]),(0,i.wy)((0,i._)("input",{type:"text",class:"form-input",placeholder:"Surname","onUpdate:modelValue":t[1]||(t[1]=e=>o.user.surname=e)},null,512),[[n.nr,o.user.surname]]),(0,i.wy)((0,i._)("input",{type:"text",class:"form-input",placeholder:"Login","onUpdate:modelValue":t[2]||(t[2]=e=>o.user.login=e)},null,512),[[n.nr,o.user.login]]),(0,i.wy)((0,i._)("input",{type:"email",class:"form-input",placeholder:"Email","onUpdate:modelValue":t[3]||(t[3]=e=>o.user.email=e)},null,512),[[n.nr,o.user.email]]),(0,i.wy)((0,i._)("input",{type:"password",class:"form-input",placeholder:"Password","onUpdate:modelValue":t[4]||(t[4]=e=>o.user.password=e)},null,512),[[n.nr,o.user.password]]),(0,i.wy)((0,i._)("input",{type:"password",class:"form-input",placeholder:"Repeat password","onUpdate:modelValue":t[5]||(t[5]=e=>o.user.rePassword=e)},null,512),[[n.nr,o.user.rePassword]]),o.message?((0,i.wg)(),(0,i.iD)("p",{key:0,class:(0,G.C_)(`form-error ${o.message.type}`)},(0,G.zw)(o.message.content),3)):(0,i.kq)("",!0),(0,i._)("button",{type:"button",class:"btn_add",onClick:t[6]||(t[6]=(...e)=>r.register&&r.register(...e))},"Register")])}class re{valid(e){let t=e.name&&e.surname&&e.login&&e.email&&e.surname&&e.password&&e.rePassword,s=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/,n=s.test(String(e.email).toLowerCase()),i=String(e.password).length>=2,a=e.password===e.rePassword;return t&&n&&a&&i}}var de=new re,le={data(){return{user:{name:"",surname:"",login:"",email:"",password:"",rePassword:""},message:{}}},methods:{validateForm(){return!0},register(){de.valid(this.user)?(this.message={},this.$emit("register",this.clearedUser)):this.message={content:"Incorrect data entered in the form",type:"error"}}},computed:{clearedUser(){return{name:this.user.name,surname:this.user.surname,login:this.user.login,email:this.user.surname.toLowerCase(),password:this.user.password}}}};const ce=(0,S.Z)(le,[["render",oe]]);var ue=ce;const me={class:"text_box_rules"},he=(0,i.uE)('<h2 class="rules_head">Rules of the programming club</h2><p class="rules"><ul><li>First rule of the programming club - Never talk about programming club.</li><li>Second rule of the programming club - Never EVER talk about programming club.</li><li>Thierd rule of the programming club - If (developer.said() == “COMMIT” or developer.exhaled() or developer.pushed(commit) == True): Project.Fineshed()</li><li>Forth rule of the programming club - Only two and I half men work on a project.</li><li>Fifth rule of the programming club - Commits should go one after another. Not all at once.</li><li>Sixth rule of the programming club - DO NOT write more than one line of code (time period not included).</li><li>Seventh rule of the programming club - You should programm as far as you need to not less and absolutely not more.</li><li>Eighth rule of the programming club - The one who found a bug in the code no metter his specialization back or front is now obliged to debug the whole code.</li></ul></p>',2),pe=[he];function ge(e,t,s,n,a,o){return(0,i.wg)(),(0,i.iD)("div",me,pe)}var fe={};const _e=(0,S.Z)(fe,[["render",ge]]);var ve=_e,ye={components:{RegistrationForm:ue,ClubRules:ve},data(){return{user:{name:"",surname:"",email:"",password:"",rePassword:""},message:{}}},methods:{register(e){this.$store.dispatch("auth/register",e).catch((e=>{900===e.code&&(this.message={type:"error",content:"User with such data is already registered"})})).then((e=>{this.$router.push("/login")}))}},created(){this.$store.dispatch("auth/logout")},mounted(){if(0!=document.getElementsByClassName("now-side_icon").length){let e=document.getElementsByClassName("now-side_icon")[0],t=document.getElementsByClassName("now-icona")[0];t.classList.remove("now-icona"),e.classList.remove("now-side_icon"),t.classList.add("icona"),e.classList.add("side_icon")}document.title="registation"}};const we=(0,S.Z)(ye,[["render",ie]]);var be=we;const ke={class:"reg_box"},Ce={class:"input_form"},Ie=(0,i._)("h1",{class:"reg-header"},"Authorization",-1),Ee=(0,i._)("br",null,null,-1),Be=(0,i._)("a",{class:"auth-link",href:"registration"},"No Account?",-1);function De(e,t,s,n,a,o){const r=(0,i.up)("club-rules"),d=(0,i.up)("login-form");return(0,i.wg)(),(0,i.iD)("div",ke,[(0,i.Wm)(r),(0,i._)("div",Ce,[Ie,Ee,(0,i.Wm)(d,{onLogin:o.login},null,8,["onLogin"]),a.message?((0,i.wg)(),(0,i.iD)("p",{key:0,class:(0,G.C_)(`form-error ${a.message.type}`)},(0,G.zw)(a.message.content),3)):(0,i.kq)("",!0),Be])])}const Fe={class:"form-reg"};function xe(e,t,s,a,o,r){return(0,i.wg)(),(0,i.iD)("form",Fe,[(0,i.wy)((0,i._)("input",{type:"text",class:"form-input",placeholder:"Login","onUpdate:modelValue":t[0]||(t[0]=e=>o.username=e)},null,512),[[n.nr,o.username]]),(0,i.wy)((0,i._)("input",{type:"password",class:"form-input",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=e=>o.password=e)},null,512),[[n.nr,o.password]]),o.message?((0,i.wg)(),(0,i.iD)("p",{key:0,class:(0,G.C_)(`form-error ${o.message.type}`)},(0,G.zw)(o.message.content),3)):(0,i.kq)("",!0),(0,i._)("button",{type:"button",class:"btn_add",onClick:t[2]||(t[2]=(...e)=>r.login&&r.login(...e))},"Log In")])}class $e{valid(e){let t=e.username&&e.password;return t}}var Le=new $e,Ne={data(){return{username:"",password:"",message:{}}},methods:{login(){Le.valid(this.clearedUser)?(this.message={},this.$emit("login",this.clearedUser)):this.message={type:"error",content:"Failed to authorize user with such data"}}},computed:{clearedUser(){let e={username:this.username,password:this.password};return e}}};const qe=(0,S.Z)(Ne,[["render",xe]]);var Pe=qe,Ue={components:{ClubRules:ve,LoginForm:Pe},data(){return{message:{}}},metaInfo:{title:"Login"},methods:{login(e){this.$store.dispatch("auth/login",e).then((e=>{this.$router.push(`/profile/${this.$store.state.auth.user.id}`)}),(e=>{this.message={type:"error",content:"Failed to authorize user with such data"}}))}},created(){this.$store.dispatch("auth/logout")},mounted(){if(0!=document.getElementsByClassName("now-side_icon").length){let e=document.getElementsByClassName("now-side_icon")[0],t=document.getElementsByClassName("now-icona")[0];t.classList.remove("now-icona"),e.classList.remove("now-side_icon"),t.classList.add("icona"),e.classList.add("side_icon")}document.title="login"}};const Se=(0,S.Z)(Ue,[["render",De]]);var je=Se;const ze=(0,i._)("input",{type:"checkbox",id:"toggle"},null,-1),Ae={class:"profile_page"},Re={key:1,class:"zero_bookmarks"},Me=(0,i._)("p",{class:"alarm_posts"},"This user has no posts :c",-1),Te=[Me],Ze={key:2,class:"zero_bookmarks"},We=(0,i._)("p",{class:"alarm_posts"},"You don't have any posts yet :c",-1),Oe=(0,i.Uk)("Add Post");function He(e,t,s,n,a,o){const r=(0,i.up)("post-feed"),d=(0,i.up)("router-link"),l=(0,i.up)("profile-card");return(0,i.wg)(),(0,i.iD)(i.HY,null,[ze,(0,i._)("div",Ae,[0!=a.posts.length?((0,i.wg)(),(0,i.j4)(r,{key:0,onAddDeleteBookmark:o.addDeleteBookmark,posts:a.posts,isTemplate:!0},null,8,["onAddDeleteBookmark","posts"])):a.userIsMe?((0,i.wg)(),(0,i.iD)("div",Ze,[We,(0,i.Wm)(d,{to:"/addpost",class:"btn_add"},{default:(0,i.w5)((()=>[Oe])),_:1})])):((0,i.wg)(),(0,i.iD)("div",Re,Te))]),a.user?((0,i.wg)(),(0,i.j4)(l,{key:0,user:a.user,userIsMe:a.userIsMe},null,8,["user","userIsMe"])):(0,i.kq)("",!0)],64)}const Ye={class:"profile-card"},Ve=["src"],Ke={class:"row"},Je={class:"left"},Qe={class:"user-nickname",id:"usernick"},Ge={class:"user-nickname top",id:"usersurname"},Xe={class:"user-info unhidden"},et=(0,i.Uk)("About: "),tt=(0,i._)("br",null,null,-1),st={class:"user-nickname bottom",id:"userlike"},nt={class:"user-nickname hiddenunckecked"},it={class:"user-nickname hiddenunckecked"},at={class:"user-nickname hiddenunckecked"},ot={class:"right"},rt={class:"user-info"},dt=(0,i.Uk)("About: "),lt=(0,i._)("br",null,null,-1),ct=(0,i._)("label",{for:"toggle",class:"btn_profile"},"More",-1);function ut(e,t,s,n,a,o){const r=(0,i.up)("dialog-button"),d=(0,i.up)("friend-state-button");return(0,i.wg)(),(0,i.iD)("div",Ye,[(0,i._)("img",{src:s.user.avatar,class:"profile-pic image_avatar"},null,8,Ve),(0,i._)("div",Ke,[(0,i._)("div",Je,[(0,i._)("div",Qe,"Name: "+(0,G.zw)(s.user.name),1),(0,i._)("div",Ge,"Lastname: "+(0,G.zw)(s.user.surname),1),(0,i._)("div",Xe,[et,tt,(0,i.Uk)(" "+(0,G.zw)(s.user.about),1)]),(0,i._)("div",st,"Hobbies: "+(0,G.zw)(s.user.hobby),1),(0,i._)("div",nt,"City: "+(0,G.zw)(s.user.city),1),(0,i._)("div",it,"Education: "+(0,G.zw)(s.user.education),1),(0,i._)("div",at,"Company: "+(0,G.zw)(s.user.company),1)]),(0,i._)("div",ot,[(0,i._)("div",rt,[dt,lt,(0,i.Uk)(" "+(0,G.zw)(s.user.about),1)])])]),s.user&&!s.userIsMe?((0,i.wg)(),(0,i.j4)(r,{key:0,class:"btn_profile",id:s.user.id},null,8,["id"])):(0,i.kq)("",!0),s.userIsMe?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(d,{key:1,class:"btn_profile",id:s.user.id},null,8,["id"])),ct])}function mt(e,t,s,n,a,o){return(0,i.wg)(),(0,i.iD)("button",{type:"button",onClick:t[0]||(t[0]=(...e)=>o.writeMessage&&o.writeMessage(...e))},"Message")}var ht={data(){return{dialog_id:""}},props:{id:Number},methods:{getDialogId(){return this.$store.dispatch("chat/getDialogId",{id:this.id}).then((e=>this.dialog_id=e))},writeMessage(){this.getDialogId().then((e=>this.$router.push(`/chat/${this.dialog_id}`)))}}};const pt=(0,S.Z)(ht,[["render",mt]]);var gt=pt;const ft=["disabled"];function _t(e,t,s,n,a,o){return(0,i.wg)(),(0,i.iD)("button",{disabled:a.loading,onClick:t[0]||(t[0]=(...e)=>o.execute&&o.execute(...e))},(0,G.zw)(o.content),9,ft)}var vt={data(){return{loading:!0,friendshipStatus:{}}},props:["id"],methods:{loadFriendshipStatus(){this.$store.dispatch("friend/getFriendshipStatus",{id:this.id}).then((e=>{this.friendshipStatus=e,this.loading=!1}))},send(){this.$store.dispatch("friend/sendFriendRequest",{id:this.id}).then((e=>this.loadFriendshipStatus()))},withdraw(){this.$store.dispatch("friend/withdrawFriendRequest",{id:this.id}).then((e=>this.loadFriendshipStatus()))},accept(){this.$store.dispatch("friend/acceptFriendRequest",{id:this.id}).then((e=>this.loadFriendshipStatus()))},decline(){this.$store.dispatch("friend/declineFriendRequest",{id:this.id}).then((e=>this.loadFriendshipStatus()))},refuse(){this.$store.dispatch("friend/refuseFriendship",{friend_id:this.id}).then((e=>this.loadFriendshipStatus()))},async execute(){this.loading=!0,"refuse"==this.state?this.refuse():"withdraw"==this.state?this.withdraw():"accept"==this.state?this.accept():"send"==this.state&&this.send()}},computed:{state(){return this.friendshipStatus.are_friends?"refuse":this.friendshipStatus.you_invited?"withdraw":this.friendshipStatus.friend_invited?"accept":"send"},content(){return"refuse"==this.state?"Refuse friendship":"withdraw"==this.state?"Withdraw request":"accept"==this.state?"Accept request":"send"==this.state?"Offer friendship":""}},created(){this.id&&this.loadFriendshipStatus()},watch:{id(){this.loadFriendshipStatus()}}};const yt=(0,S.Z)(vt,[["render",_t]]);var wt=yt,bt={components:{DialogButton:gt,FriendStateButton:wt},data(){return{}},props:{user:Object,userIsMe:Boolean}};const kt=(0,S.Z)(bt,[["render",ut]]);var Ct=kt;const It={class:"post-feed"};function Et(e,t,s,n,a,o){const r=(0,i.up)("post-card");return(0,i.wg)(),(0,i.iD)("div",It,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.posts,(e=>((0,i.wg)(),(0,i.j4)(r,{onAddDeleteBookmark:o.addDeleteBookmark,key:e.id,post:e,isTemplate:s.isTemplate},null,8,["onAddDeleteBookmark","post","isTemplate"])))),128))])}const Bt={class:"post-header"},Dt={class:"btn_box_post"},Ft=(0,i._)("div",{class:"arrow"},null,-1),xt=(0,i._)("div",{class:"arrow_diff"},null,-1),$t={class:"text-wrap"},Lt={class:"post-text"},Nt=["src"];function qt(e,t,s,n,a,o){const r=(0,i.up)("router-link"),d=(0,i.up)("mini-user-profile");return(0,i.wg)(),(0,i.iD)("div",{class:(0,G.C_)({"post-margin post-box":!s.isTemplate,"post-box":s.isTemplate})},[(0,i._)("div",Bt,[(0,i._)("div",Dt,[s.isTemplate?((0,i.wg)(),(0,i.j4)(r,{key:0,to:`/post/${s.post.id}`,class:"round open",title:"Open Full"},{default:(0,i.w5)((()=>[Ft,xt])),_:1},8,["to"])):(0,i.kq)("",!0),s.isTemplate?((0,i.wg)(),(0,i.iD)("button",{key:1,onClick:t[0]||(t[0]=(...e)=>o.addDeleteBookmark&&o.addDeleteBookmark(...e)),to:"/bookmarks",class:(0,G.C_)(["round",{in_zakladka:s.post.isBookmark,zakladka:!s.post.isBookmark}]),title:"Bookmark"},null,2)):(0,i.kq)("",!0),s.isTemplate||s.post.author.id!=this.$store.getters["auth/user"].id?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(r,{key:2,to:`/editpost/${s.post.id}`,class:"round edit",title:"Edit"},null,8,["to"])),s.isTemplate||s.post.author.id!=this.$store.getters["auth/user"].id?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("button",{key:3,onClick:t[1]||(t[1]=(...e)=>o.deletePost&&o.deletePost(...e)),class:"round delete",title:"Delete"}))]),(0,i.Wm)(d,{user:s.post.author},null,8,["user"])]),(0,i._)("div",$t,[(0,i._)("div",Lt,(0,G.zw)(s.post.content),1)]),s.post.photo?((0,i.wg)(),(0,i.iD)("img",{key:0,src:s.post.photo,class:"post-image"},null,8,Nt)):(0,i.kq)("",!0),(0,i.WI)(e.$slots,"comments")],2)}const Pt=["src"];function Ut(e,t,s,n,a,o){const r=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("img",{class:"author_avatar",src:s.user.avatar},null,8,Pt),(0,i.Wm)(r,{to:`/profile/${s.user.id}`,class:"post-author"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,G.zw)(s.user.name)+" "+(0,G.zw)(s.user.surname),1)])),_:1},8,["to"])],64)}var St={data(){return{}},props:{user:Object}};const jt=(0,S.Z)(St,[["render",Ut]]);var zt=jt,At={components:{MiniUserProfile:zt},data(){return{}},props:{post:Object,isTemplate:Boolean},methods:{deletePost(){this.$store.dispatch("post/deletePost",{id:this.post.id}).then((e=>this.$router.push(`/profile/${this.$store.getters["auth/user"].id}`)))},addDeleteBookmark(){this.$emit("addDeleteBookmark",this.post.id)}}};const Rt=(0,S.Z)(At,[["render",qt]]);var Mt=Rt,Tt={components:{PostCard:Mt},props:{posts:Array,isTemplate:Boolean},methods:{addDeleteBookmark(e){this.$emit("addDeleteBookmark",e)}}};const Zt=(0,S.Z)(Tt,[["render",Et]]);var Wt=Zt,Ot={components:{ProfileCard:Ct,PostFeed:Wt},props:["id"],data(){return{user:{},userIsMe:!1,posts:[]}},methods:{async loadUserData(){let e=this.$route.params.id;await this.$store.dispatch("user/getUser",{id:e}).then((e=>{this.user=e})).catch((e=>{this.$router.push("/profilenotfound"),console.log(e)})),this.$store.dispatch("user/isUserSelf",{id:this.user.id}).then((e=>this.userIsMe=e),(e=>console.log(e))),this.$store.dispatch("post/getUserPosts",{id:this.id}).then((e=>this.posts=e))},addDeleteBookmark(e){this.$store.dispatch("post/addDeleteBookmark",{id:e}).then((t=>{let s=this.posts.indexOf(this.posts.find((t=>t.id==e)));console.log(s),this.posts[s].isBookmark=t}))}},created(){this.loadUserData()},watch:{id(){this.loadUserData()}},mounted(){function e(){if(0!=document.getElementsByClassName("now-side_icon").length&&0!=document.getElementsByClassName("now-icona").length){let e=document.getElementsByClassName("now-side_icon")[0],t=document.getElementsByClassName("now-icona")[0];t.classList.remove("now-icona"),e.classList.remove("now-side_icon"),t.classList.add("icona"),e.classList.add("side_icon")}document.getElementById("prof").classList.remove("side_icon"),document.getElementById("prof").classList.add("now-side_icon"),document.getElementById("prof").childNodes[0].childNodes[0].classList.remove("icona"),document.getElementById("prof").childNodes[0].childNodes[0].classList.add("now-icona")}setTimeout(e,50),document.title="profile"}};const Ht=(0,S.Z)(Ot,[["render",He]]);var Yt=Ht;const Vt=e=>((0,i.dD)("data-v-80da291e"),e=e(),(0,i.Cn)(),e),Kt={class:"container404"},Jt=Vt((()=>(0,i._)("h1",null,"404: Not found",-1))),Qt=[Jt];function Gt(e,t,s,n,a,o){return(0,i.wg)(),(0,i.iD)("div",Kt,Qt)}var Xt={mounted(){if(0!=document.getElementsByClassName("now-side_icon").length){let e=document.getElementsByClassName("now-side_icon")[0],t=document.getElementsByClassName("now-icona")[0];t.classList.remove("now-icona"),e.classList.remove("now-side_icon"),t.classList.add("icona"),e.classList.add("side_icon")}document.title="404"}};const es=(0,S.Z)(Xt,[["render",Gt],["__scopeId","data-v-80da291e"]]);var ts=es;const ss={class:"setting_page"},ns=(0,i.Uk)("Settings Profile");function is(e,t,s,n,a,o){const r=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",ss,[(0,i.Wm)(r,{to:"/settings/profile",class:"setting-btn"},{default:(0,i.w5)((()=>[ns])),_:1}),(0,i._)("button",{onClick:t[0]||(t[0]=(...e)=>o.logout&&o.logout(...e)),class:"setting-btn"},"Exit")])}var as={methods:{logout(){this.$store.dispatch("auth/logout"),location.reload(!0)}},mounted(){if(0!=document.getElementsByClassName("now-side_icon").length){let e=document.getElementsByClassName("now-side_icon")[0],t=document.getElementsByClassName("now-icona")[0];t.classList.remove("now-icona"),e.classList.remove("now-side_icon"),t.classList.add("icona"),e.classList.add("side_icon")}document.getElementById("set").classList.add("now-side_icon"),document.getElementById("set").classList.remove("side_icon"),document.getElementById("set").childNodes[0].childNodes[0].classList.add("now-icona"),document.getElementById("set").childNodes[0].childNodes[0].classList.remove("icona"),document.title="settings"}};const os=(0,S.Z)(as,[["render",is]]);var rs=os;const ds={class:"main_page"},ls={key:1,class:"zero_bookmarks"},cs=(0,i._)("p",{class:"alarm_posts"},"We don't have any posts yet :c",-1),us=(0,i.Uk)("Add Post");function ms(e,t,s,n,a,o){const r=(0,i.up)("post-feed"),d=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",ds,[0!=a.posts.length?((0,i.wg)(),(0,i.j4)(r,{key:0,onAddDeleteBookmark:o.addDeleteBookmark,posts:a.posts,isTemplate:!0},null,8,["onAddDeleteBookmark","posts"])):((0,i.wg)(),(0,i.iD)("div",ls,[cs,(0,i.Wm)(d,{to:"/addpost",class:"btn_add"},{default:(0,i.w5)((()=>[us])),_:1})]))])}var hs={components:{PostFeed:Wt},data(){return{message:{},posts:[]}},methods:{addDeleteBookmark(e){this.$store.dispatch("post/addDeleteBookmark",{id:e}).then((t=>{let s=this.posts.indexOf(this.posts.find((t=>t.id==e)));console.log(s),this.posts[s].isBookmark=t}))}},created(){this.$store.dispatch("post/getFeed").then((e=>this.posts=e))},mounted(){if(0!=document.getElementsByClassName("now-side_icon").length){let e=document.getElementsByClassName("now-side_icon")[0],t=document.getElementsByClassName("now-icona")[0];t.classList.remove("now-icona"),e.classList.remove("now-side_icon"),t.classList.add("icona"),e.classList.add("side_icon")}document.getElementById("glob").classList.add("now-side_icon"),document.getElementById("glob").classList.remove("side_icon"),document.getElementById("glob").childNodes[0].childNodes[0].classList.add("now-icona"),document.getElementById("glob").childNodes[0].childNodes[0].classList.remove("icona"),document.title="main-page"}};const ps=(0,S.Z)(hs,[["render",ms]]);var gs=ps;const fs={class:"messenger_box",id:"messenger_box"},_s=(0,i._)("h2",{style:{"text-align":"center"}}," messages ",-1);function vs(e,t,s,n,a,o){const r=(0,i.up)("chat-header"),d=(0,i.up)("message-container"),l=(0,i.up)("message-form");return(0,i.wg)(),(0,i.iD)("div",fs,[_s,(0,i.Wm)(r,{info:a.chat.info},null,8,["info"]),(0,i.Wm)(d,{messages:a.chat.messages},null,8,["messages"]),(0,i.Wm)(l,{onSend:o.send},null,8,["onSend"])])}const ys={class:"ur_friend"},ws=["src"];function bs(e,t,s,n,a,o){const r=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",ys,[(0,i.Wm)(r,{class:"chat-avatar-div",to:o.headerLink},{default:(0,i.w5)((()=>[(0,i._)("img",{src:s.info.avatar,class:"friend-user-pic image_avatar"},null,8,ws)])),_:1},8,["to"]),(0,i._)("p",null,(0,G.zw)(s.info.name),1)])}var ks={props:{info:Object},computed:{headerLink(){let e="";return e=this.info.isMulty?`/chat/${this.info.id}/info`:`/profile/${this.info.interlocutorID}`,e}}};const Cs=(0,S.Z)(ks,[["render",bs]]);var Is=Cs;const Es={class:"messager_container"};function Bs(e,t,s,n,a,o){const r=(0,i.up)("message-card");return(0,i.wg)(),(0,i.iD)("div",Es,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.messages,(e=>((0,i.wg)(),(0,i.j4)(r,{key:e.id,message:e},null,8,["message"])))),128))])}const Ds={class:"chat_texts"},Fs={class:"timestamp"},xs={class:"time"},$s={class:"message-text"};function Ls(e,t,s,n,a,o){return(0,i.wg)(),(0,i.iD)("div",{class:(0,G.C_)({message_own:s.message.isMyown,message:!s.message.isMyown})},[(0,i._)("div",Ds,[(0,i._)("div",Fs,[(0,i._)("h2",null,(0,G.zw)(s.message.author),1),(0,i._)("p",xs,(0,G.zw)(s.message.date_create),1)]),(0,i._)("h3",$s,(0,G.zw)(s.message.content),1)])],2)}var Ns={props:{message:Object}};const qs=(0,S.Z)(Ns,[["render",Ls]]);var Ps=qs,Us={components:{MessageCard:Ps},props:{messages:Array}};const Ss=(0,S.Z)(Us,[["render",Bs]]);var js=Ss;const zs={class:"input-area-mess"};function As(e,t,s,a,o,r){return(0,i.wg)(),(0,i.iD)("form",zs,[(0,i.wy)((0,i._)("textarea",{class:"message_area",placeholder:"Enter message","onUpdate:modelValue":t[0]||(t[0]=e=>o.content=e)},null,512),[[n.nr,o.content]]),(0,i._)("button",{type:"button",class:"btn_message",onClick:t[1]||(t[1]=(...e)=>r.send&&r.send(...e))},"Send")])}var Rs={data(){return{content:""}},methods:{send(){this.content&&(this.$emit("send",this.content),this.content="")}}};const Ms=(0,S.Z)(Rs,[["render",As]]);var Ts=Ms,Zs={components:{ChatHeader:Is,MessageContainer:js,MessageForm:Ts},data(){return{chat:{info:{},messages:[]}}},props:["id"],methods:{send(e){function t(){document.getElementById("messenger_box").scrollTop=document.getElementById("messenger_box").scrollHeight}this.$store.dispatch("chat/sendMessage",{chat_id:this.chat.info.id,content:e}).then((e=>this.chat.messages.push(e))),setTimeout(t,400),document.title="chat"},loadChat(){this.$store.dispatch("chat/getChat",{id:this.id}).then((e=>this.chat=e))}},created(){this.loadChat(),this.interval=setInterval(this.loadChat,2e3)},beforeUnmount(){clearInterval(this.interval)},mounted(){if(0!=document.getElementsByClassName("now-side_icon").length){let e=document.getElementsByClassName("now-side_icon")[0],t=document.getElementsByClassName("now-icona")[0];t.classList.remove("now-icona"),e.classList.remove("now-side_icon"),t.classList.add("icona"),e.classList.add("side_icon")}function e(){document.getElementById("messenger_box").scrollTop=document.getElementById("messenger_box").scrollHeight}document.getElementById("mes").classList.add("now-side_icon"),document.getElementById("mes").classList.remove("side_icon"),document.getElementById("mes").childNodes[0].childNodes[0].classList.add("now-icona"),document.getElementById("mes").childNodes[0].childNodes[0].classList.remove("icona"),setTimeout(e,400),document.title="chat"}};const Ws=(0,S.Z)(Zs,[["render",vs]]);var Os=Ws;const Hs={class:"chat_box"},Ys=(0,i._)("i",{class:"fa-solid fa-comment-medical create"},null,-1),Vs=(0,i._)("h2",{style:{"text-align":"center"}}," Personal Chats ",-1),Ks={key:1,class:"chat_item"},Js=(0,i._)("div",{class:"chat_texts",style:{margin:"auto"}}," You don't have any chat yet :c ",-1),Qs=[Js];function Gs(e,t,s,n,a,o){const r=(0,i.up)("router-link"),d=(0,i.up)("chat-list");return(0,i.wg)(),(0,i.iD)("div",Hs,[(0,i.Wm)(r,{to:"/multychatcreate",class:"create_chat"},{default:(0,i.w5)((()=>[Ys])),_:1}),Vs,0!=a.chats.length?((0,i.wg)(),(0,i.j4)(d,{key:0,chats:a.chats},null,8,["chats"])):((0,i.wg)(),(0,i.iD)("div",Ks,Qs))])}function Xs(e,t,s,n,a,o){const r=(0,i.up)("chat-list-item");return(0,i.wg)(),(0,i.iD)("div",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.chats,(e=>((0,i.wg)(),(0,i.j4)(r,{key:e.id,chat:e},null,8,["chat"])))),128))])}const en={class:"chat_item"},tn=["src"],sn={class:"chat_texts"},nn={id:"last_message"},an={class:"author"};function on(e,t,s,n,a,o){const r=(0,i.up)("router-link");return(0,i.wg)(),(0,i.j4)(r,{to:`chat/${s.chat.id}`},{default:(0,i.w5)((()=>[(0,i._)("div",en,[(0,i._)("img",{class:"chat-user-pic image_avatar",src:s.chat.avatar},null,8,tn),(0,i._)("div",sn,[(0,i._)("h2",null,(0,G.zw)(s.chat.name),1),(0,i._)("h3",nn,[(0,i._)("span",an,(0,G.zw)(s.chat.lastMessage.author)+":",1),(0,i.Uk)(" "+(0,G.zw)(s.chat.lastMessage.content),1)])])])])),_:1},8,["to"])}var rn={props:{chat:Object}};const dn=(0,S.Z)(rn,[["render",on]]);var ln=dn,cn={components:{ChatListItem:ln},props:{chats:Array}};const un=(0,S.Z)(cn,[["render",Xs]]);var mn=un,hn={components:{ChatList:mn},data(){return{chats:[]}},methods:{loadChats(){this.$store.dispatch("chat/getChatlist").then((e=>this.chats=e))}},created(){this.loadChats(),this.interval=setInterval(this.loadChats,1500)},beforeUnmount(){clearInterval(this.interval)},mounted(){if(0!=document.getElementsByClassName("now-side_icon").length){let e=document.getElementsByClassName("now-side_icon")[0],t=document.getElementsByClassName("now-icona")[0];t.classList.remove("now-icona"),e.classList.remove("now-side_icon"),t.classList.add("icona"),e.classList.add("side_icon")}document.getElementById("mes").classList.add("now-side_icon"),document.getElementById("mes").classList.remove("side_icon"),document.getElementById("mes").childNodes[0].childNodes[0].classList.add("now-icona"),document.getElementById("mes").childNodes[0].childNodes[0].classList.remove("icona"),document.title="chat-list"}};const pn=(0,S.Z)(hn,[["render",Gs]]);var gn=pn;function fn(e,t,s,n,a,o){const r=(0,i.up)("comment-form"),d=(0,i.up)("comment-feed"),l=(0,i.up)("post-card");return(0,i.wg)(),(0,i.j4)(l,{post:a.post,isTemplate:!1},{comments:(0,i.w5)((()=>[(0,i.Wm)(r,{onSend:o.sendComment},null,8,["onSend"]),(0,i.Wm)(d,{comments:a.comments},null,8,["comments"])])),_:1},8,["post"])}const _n={class:"input-area-mess"};function vn(e,t,s,a,o,r){return(0,i.wg)(),(0,i.iD)("form",_n,[(0,i.wy)((0,i._)("textarea",{name:"content",cols:"40",rows:"10",class:"message_area",placeholder:"New comment",required:"",id:"id_content","onUpdate:modelValue":t[0]||(t[0]=e=>o.content=e)},null,512),[[n.nr,o.content]]),(0,i._)("button",{class:"btn_message",type:"button",onClick:t[1]||(t[1]=(...e)=>r.send&&r.send(...e))},"Send")])}var yn={data(){return{content:""}},methods:{send(){""!=this.content&&(this.$emit("send",this.content),this.content="")}}};const wn=(0,S.Z)(yn,[["render",vn]]);var bn=wn;const kn={key:0,style:{"text-align":"center",color:"white"}};function Cn(e,t,s,n,a,o){const r=(0,i.up)("comment-card");return(0,i.wg)(),(0,i.iD)(i.HY,null,[s.comments.length>0?((0,i.wg)(),(0,i.iD)("h1",kn," Comments ")):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.comments,(e=>((0,i.wg)(),(0,i.j4)(r,{key:e.id,comment:e},null,8,["comment"])))),128))],64)}const In={class:"comment-box"},En={class:"timestamp"},Bn={class:"comment-author"},Dn={class:"time"},Fn={class:"comment-text"};function xn(e,t,s,n,a,o){return(0,i.wg)(),(0,i.iD)("div",In,[(0,i._)("div",En,[(0,i._)("p",Bn,(0,G.zw)(s.comment.author.name)+" "+(0,G.zw)(s.comment.author.surname),1),(0,i._)("p",Dn,(0,G.zw)(s.comment.timestamp),1)]),(0,i._)("p",Fn,(0,G.zw)(s.comment.content),1)])}var $n={props:{comment:Object}};const Ln=(0,S.Z)($n,[["render",xn]]);var Nn=Ln,qn={components:{CommentCard:Nn},props:{comments:Array}};const Pn=(0,S.Z)(qn,[["render",Cn]]);var Un=Pn,Sn={components:{PostCard:Mt,CommentForm:bn,CommentFeed:Un},props:["id"],data(){return{post:{id:0,content:"",author:{id:"",name:"",surname:""},photo:""},comments:[]}},methods:{sendComment(e){let t={content:e,post_id:this.post.id};this.$store.dispatch("comment/sendComment",t).then((e=>this.comments.push(e)))}},async mounted(){if(await this.$store.dispatch("post/getPost",{id:this.id}).then((e=>this.post=e)),this.$store.dispatch("comment/getComments",{post_id:this.post.id}).then((e=>this.comments=e)),0!=document.getElementsByClassName("now-side_icon").length){let e=document.getElementsByClassName("now-side_icon")[0],t=document.getElementsByClassName("now-icona")[0];t.classList.remove("now-icona"),e.classList.remove("now-side_icon"),t.classList.add("icona"),e.classList.add("side_icon")}document.title="post"}};const jn=(0,S.Z)(Sn,[["render",fn]]);var zn=jn;const An={class:"main_page"},Rn={key:1,class:"zero_bookmarks"},Mn=(0,i._)("p",{class:"alarm_posts"},"You don't have any bookmark posts yet :c",-1),Tn=(0,i.Uk)("Add Bookmark Post");function Zn(e,t,s,n,a,o){const r=(0,i.up)("post-feed"),d=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",An,[0!=a.posts.length?((0,i.wg)(),(0,i.j4)(r,{key:0,onAddDeleteBookmark:o.addDeleteBookmark,posts:a.posts,isTemplate:!0},null,8,["onAddDeleteBookmark","posts"])):((0,i.wg)(),(0,i.iD)("div",Rn,[Mn,(0,i.Wm)(d,{to:"/feed",class:"btn_add"},{default:(0,i.w5)((()=>[Tn])),_:1})]))])}var Wn={components:{PostFeed:Wt},data(){return{message:{},posts:[]}},methods:{addDeleteBookmark(e){this.$store.dispatch("post/addDeleteBookmark",{id:e}).then((t=>{let s=this.posts.indexOf(this.posts.find((t=>t.id==e)));console.log(s),this.posts[s].isBookmark=t}))}},mounted(){if(0!=document.getElementsByClassName("now-side_icon").length){let e=document.getElementsByClassName("now-side_icon")[0],t=document.getElementsByClassName("now-icona")[0];t.classList.remove("now-icona"),e.classList.remove("now-side_icon"),t.classList.add("icona"),e.classList.add("side_icon")}document.getElementById("book").classList.add("now-side_icon"),document.getElementById("book").classList.remove("side_icon"),document.getElementById("book").childNodes[0].childNodes[0].classList.add("now-icona"),document.getElementById("book").childNodes[0].childNodes[0].classList.remove("icona"),document.title="bookmark"},created(){this.$store.dispatch("post/getBookmarks").then((e=>this.posts=e))}};const On=(0,S.Z)(Wn,[["render",Zn]]);var Hn=On;const Yn={class:"post-workspace"};function Vn(e,t,s,n,a,o){const r=(0,i.up)("post-form");return(0,i.wg)(),(0,i.iD)("div",Yn,[(0,i.Wm)(r,{isEdit:!1,HaveImg:!1})])}const Kn=e=>((0,i.dD)("data-v-c1f96b2e"),e=e(),(0,i.Cn)(),e),Jn={class:"new-post-header"},Qn={class:"new-post-text-img"},Gn={id:"new-post-form",class:"form-add-post",enctype:"multipart/form-data"},Xn={key:0,class:"input-file-row",id:"box-img"},ei=Kn((()=>(0,i._)("input",{type:"file",name:"photo",accept:"image/*",id:"id_photo"},null,-1))),ti=Kn((()=>(0,i._)("span",null,"Add an Image",-1))),si=[ei,ti],ni=Kn((()=>(0,i._)("div",{id:"input-list",class:"input-file-list"},null,-1))),ii={key:1,class:"input-file-row",style:{height:"auto"},id:"box-img"},ai=Kn((()=>(0,i._)("input",{type:"file",name:"avatar-profile-form",accept:"image/*",id:"id_photo",value:""},null,-1))),oi=Kn((()=>(0,i._)("span",null,"Select an Image",-1))),ri=[ai,oi],di={id:"input-list",class:"input-file-list",style:{margin:"0px auto"}},li={class:"input-file-list-item"},ci=Kn((()=>(0,i._)("a",{href:"#",onclick:"removeFilesItem(this); return false;",class:"input-file-list-remove"},"x",-1))),ui=["src"],mi=Kn((()=>(0,i._)("span",{id:"img-name",class:"input-file-list-name"},null,-1)));function hi(e,t,s,a,o,r){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",Jn,[s.isEdit?((0,i.wg)(),(0,i.iD)("button",{key:1,class:"btn_post",onClick:t[1]||(t[1]=(...e)=>r.editPost&&r.editPost(...e))},"Edit Post")):((0,i.wg)(),(0,i.iD)("button",{key:0,class:"btn_post",onClick:t[0]||(t[0]=(...e)=>r.createPost&&r.createPost(...e))},"Create Post"))]),(0,i._)("div",Qn,[(0,i._)("form",Gn,[(0,i.wy)((0,i._)("textarea",{name:"content",cols:"40",rows:"10",class:"text-of-new-post",placeholder:"Your text",required:"",id:"id_content","onUpdate:modelValue":t[2]||(t[2]=e=>o.content=e)},null,512),[[n.nr,o.content]]),s.isEdit?((0,i.wg)(),(0,i.iD)("div",ii,[(0,i._)("label",{onChange:t[4]||(t[4]=e=>r.open(e)),class:"input-file",id:"add_btn",style:{visibility:"hidden",width:"0px",height:"0px",margin:"0px"}},ri,32),(0,i._)("div",di,[(0,i._)("div",li,[ci,(0,i._)("img",{class:"input-file-list-img",src:s.oldPost.photo},null,8,ui),mi])])])):((0,i.wg)(),(0,i.iD)("div",Xn,[(0,i._)("label",{class:"input-file",id:"add_btn",onChange:t[3]||(t[3]=e=>r.open(e))},si,32),ni]))])])],64)}const pi='\n\t\t\t\t\t\tfunction removeFilesItem(target){\n\t\t\t\t\t\t\tdocument.getElementById("img-name").innerHTML = "NoneImg";\n\t\t\t\t\t\t\tlet input = $(target).closest(\'.input-file-row\').find(\'input[type=file]\');\n\t\t\t\t\t\t\t$(target).closest(\'.input-file-list-item\').remove();\n\t\t\t\t\t\t\tinput[0].files = (new DataTransfer()).files;\n\t\t\t\t\t\t\tdocument.getElementById(\'add_btn\').removeAttribute("style");\n\t\t\t\t\t\t\tdocument.getElementById("box-img").removeAttribute("style");\n\t\t\t\t\t\t\tdocument.getElementById("input-list").removeAttribute("style");\n\t\t\t\t\t\t}\n                        ';var gi=s(7387),fi=s.n(gi);const _i=fi();window.$=_i;var vi={props:{isEdit:Boolean,HaveImg:Boolean,oldPost:Object},data(){return{content:this.oldPost?this.oldPost.content:""}},methods:{createPost(){let e=document.getElementById("id_photo").files[0];if(e||this.content){let t={photo:e,content:this.content};this.$store.dispatch("post/addPost",t).then((e=>this.$router.push(`/post/${e}`)))}},editPost(){let e=!(0==document.getElementsByClassName("input-file-list-img").length),t=!0,s=null;if(e&&(t=0==document.getElementById("id_photo").files.length,t||(s=document.getElementById("id_photo").files[0])),this.content||e){let n={id:this.oldPost.id,content:this.content,withPhoto:e,isPhotoOld:null,photo:null};e&&(n.isPhotoOld=t,t||(n.photo=s)),this.$store.dispatch("post/editPost",n).then((e=>{this.$router.push(`/post/${e}`)}))}},open:function(e){let t=new DataTransfer,s=_i(document.getElementById("id_photo")).closest(".input-file").next();s.empty();for(let i=0;i<1;i++){let e=document.getElementById("id_photo").files.item(i);t.items.add(e);let n=new FileReader;n.readAsDataURL(e),n.onloadend=function(){let t='<div class="input-file-list-item" style=" display: inline-block; vertical-align: top; position: relative;"><img style="width: 50%; margin: 100px 25%; border-radius: 14px;" id="post-img" class="input-file-list-img" src="'+n.result+'"><span style="text-align: center; display: block; font-size: 12px; color: white; text-overflow: ellipsis; overflow: hidden;" id="img-name" class="input-file-list-name">'+e.name+'</span><a style ="color: #fff; text-decoration: none; display: inline-block; position: absolute; padding: 0; margin: 0; top: 5px; right: 5px; background: #ff0202; width: 16px; height: 16px; text-align: center; line-height: 16px; border-radius: 50%;" href="#" onclick="removeFilesItem(this); return false;" class="input-file-list-remove">x</a></div>';s.append(t)}}document.getElementById("id_photo").files=t.files;let n=document.getElementById("add_btn");n.style.visibility="hidden",n.style.width="0",n.style.height="0",n.style.margin="0",document.getElementById("box-img").style.height="auto",document.getElementById("input-list").style.margin="0 auto"}},mounted(){if(console.log(this.isEdit),console.log(document.getElementsByClassName(".input-file-list-item").length),this.isEdit||0==document.getElementsByClassName(".input-file-list-item").length||(document.getElementsByClassName(".input-file-list-item")[0].remove(),console.log(1)),0==document.body.getElementsByTagName("script").length){let e=document.createElement("script");e.setAttribute("src","https://snipp.ru/cdn/jquery/2.1.1/jquery.min.js"),document.body.appendChild(e);const t=document.createElement("script");t.innerHTML=pi,document.body.appendChild(t)}new DataTransfer}};const yi=(0,S.Z)(vi,[["render",hi],["__scopeId","data-v-c1f96b2e"]]);var wi=yi,bi={components:{PostForm:wi},mounted(){if(0!=document.getElementsByClassName("now-side_icon").length){let e=document.getElementsByClassName("now-side_icon")[0],t=document.getElementsByClassName("now-icona")[0];t.classList.remove("now-icona"),e.classList.remove("now-side_icon"),t.classList.add("icona"),e.classList.add("side_icon")}document.getElementById("add").classList.add("now-side_icon"),document.getElementById("add").classList.remove("side_icon"),document.getElementById("add").childNodes[0].childNodes[0].classList.add("now-icona"),document.getElementById("add").childNodes[0].childNodes[0].classList.remove("icona"),document.title="create-post"}};const ki=(0,S.Z)(bi,[["render",Vn]]);var Ci=ki;const Ii={class:"search-wrapper"},Ei={class:"search-user-id-input"},Bi={class:"other_users_search"},Di={key:0,class:"friend_error"};function Fi(e,t,s,n,a,o){const r=(0,i.up)("find-friend-form"),d=(0,i.up)("friend-card");return(0,i.wg)(),(0,i.iD)("div",Ii,[(0,i._)("p",Ei,"Your ID: "+(0,G.zw)(e.$store.state.auth.user.id),1),(0,i._)("div",Bi,[(0,i.Wm)(r,{onFind:o.sendQuerry},null,8,["onFind"]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.profiles,(e=>((0,i.wg)(),(0,i.j4)(d,{key:e.id,profile:e},null,8,["profile"])))),128))]),0==a.profiles.length&&a.querryProvided?((0,i.wg)(),(0,i.iD)("p",Di,"Oops! The user does not exist!")):(0,i.kq)("",!0)])}const xi={class:"input_friend"};function $i(e,t,s,a,o,r){return(0,i.wg)(),(0,i.iD)("div",xi,[(0,i._)("form",{onSubmit:t[2]||(t[2]=(0,n.iM)((()=>{}),["prevent"])),class:"form_friend"},[(0,i.wy)((0,i._)("input",{type:"text",name:"querry",class:"search-id-input",placeholder:"Search(ID/Name)",required:"",id:"id_querry","onUpdate:modelValue":t[0]||(t[0]=e=>o.querry=e)},null,512),[[n.nr,o.querry]]),(0,i._)("button",{type:"submit",class:"btn_message",onClick:t[1]||(t[1]=(...e)=>r.find&&r.find(...e))},"Search"),o.message?((0,i.wg)(),(0,i.iD)("p",{key:0,class:(0,G.C_)(`friend_error ${o.message.type}`)},(0,G.zw)(o.message.content),3)):(0,i.kq)("",!0)],32)])}var Li={data(){return{querry:"",message:{type:null,content:null}}},methods:{find(){this.querry.length>2||Number(this.querry)?(this.$emit("find",this.querry),this.message={}):this.message={type:"error",content:"Too few simbols in the querry"}}}};const Ni=(0,S.Z)(Li,[["render",$i]]);var qi=Ni;const Pi=["src"],Ui=(0,i._)("br",null,null,-1),Si={class:"nickname-search"},ji={class:"info-search"};function zi(e,t,s,n,a,o){const r=(0,i.up)("router-link");return(0,i.wg)(),(0,i.j4)(r,{to:`/profile/${s.profile.id}`,class:"user-card-search"},{default:(0,i.w5)((()=>[(0,i._)("img",{class:"profile-pic-search",src:s.profile.avatar},null,8,Pi),Ui,(0,i._)("p",Si,(0,G.zw)(s.profile.name)+" "+(0,G.zw)(s.profile.surname),1),(0,i._)("p",ji,(0,G.zw)(s.profile.about),1)])),_:1},8,["to"])}var Ai={props:{profile:Object}};const Ri=(0,S.Z)(Ai,[["render",zi]]);var Mi=Ri,Ti={components:{FindFriendForm:qi,FriendCard:Mi},props:{},data(){return{profiles:[],querryProvided:!1}},methods:{sendQuerry(e){this.$store.dispatch("user/findUser",{querry:e}).then((e=>{this.profiles=e,this.querryProvided=!0}))}},mounted(){if(0!=document.getElementsByClassName("now-side_icon").length){let e=document.getElementsByClassName("now-side_icon")[0],t=document.getElementsByClassName("now-icona")[0];t.classList.remove("now-icona"),e.classList.remove("now-side_icon"),t.classList.add("icona"),e.classList.add("side_icon")}document.getElementById("f").classList.add("now-side_icon"),document.getElementById("f").classList.remove("side_icon"),document.getElementById("f").childNodes[0].childNodes[0].classList.add("now-icona"),document.getElementById("f").childNodes[0].childNodes[0].classList.remove("icona"),document.title="find-users-page"}};const Zi=(0,S.Z)(Ti,[["render",Fi]]);var Wi=Zi;const Oi={class:"friend_box"},Hi={class:"title_h"},Yi=(0,i._)("h2",{class:"requests_h1",id:"title"},"Friends List",-1),Vi=(0,i.Uk)(" Friend Requests "),Ki={key:0,class:"message_none",style:{display:"flex"}};function Ji(e,t,s,n,a,o){const r=(0,i.up)("router-link"),d=(0,i.up)("friend-list");return(0,i.wg)(),(0,i.iD)("div",Oi,[(0,i._)("div",Hi,[Yi,s.id==e.$store.state.auth.user.id?((0,i.wg)(),(0,i.j4)(r,{key:0,to:"/requestlist/",class:"btn_request_h2",id:"btn"},{default:(0,i.w5)((()=>[Vi])),_:1})):(0,i.kq)("",!0)]),0==a.friends.length?((0,i.wg)(),(0,i.iD)("div",Ki,"No friends yet")):(0,i.kq)("",!0),(0,i.Wm)(d,{onDeleteFriend:o.deleteFriend,friends:a.friends,IsFriends:!0},null,8,["onDeleteFriend","friends"])])}function Qi(e,t,s,n,a,o){const r=(0,i.up)("friend-item");return(0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.friends,(e=>((0,i.wg)(),(0,i.j4)(r,{key:e.id,friend:e,IsFriend:s.IsFriends,onDeleteFriend:o.deleteFriend,onAcceptFriendRequest:o.acceptFriendRequest,onDeclineFriendRequest:o.declineFriendRequest},null,8,["friend","IsFriend","onDeleteFriend","onAcceptFriendRequest","onDeclineFriendRequest"])))),128)}const Gi={class:"friendlist_item",id:"friend_item"},Xi=["src"];function ea(e,t,s,n,a,o){const r=(0,i.up)("router-link"),d=(0,i.up)("dialog-button");return(0,i.wg)(),(0,i.iD)("div",Gi,[(0,i._)("img",{src:s.friend.avatar,class:"friend-avatar image_avatar"},null,8,Xi),(0,i.Wm)(r,{class:"friend_name",to:`/profile/${s.friend.id}`},{default:(0,i.w5)((()=>[(0,i.Uk)((0,G.zw)(s.friend.name)+" "+(0,G.zw)(s.friend.surname),1)])),_:1},8,["to"]),s.IsFriend?((0,i.wg)(),(0,i.iD)("button",{key:0,onClick:t[0]||(t[0]=e=>this.$emit("deleteFriend",s.friend.id)),type:"button",class:"button_write accept"},"Delete")):(0,i.kq)("",!0),s.IsFriend?((0,i.wg)(),(0,i.j4)(d,{key:1,class:"button_write accept",id:s.friend.id},null,8,["id"])):(0,i.kq)("",!0),s.IsFriend?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("button",{key:2,onClick:t[1]||(t[1]=t=>e.$emit("acceptFriendRequest",s.friend.id)),type:"button",class:"button_write accept"},"Accept")),s.IsFriend?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("button",{key:3,onClick:t[2]||(t[2]=t=>e.$emit("declineFriendRequest",s.friend.id)),type:"button",class:"button_write accept"},"Decline"))])}var ta={components:{DialogButton:gt},props:{friend:Object,IsFriend:Boolean},methods:{deleteFriend(){this.$emit("deleteFriend",this.friend.id)}}};const sa=(0,S.Z)(ta,[["render",ea]]);var na=sa,ia={components:{FriendItem:na},props:{friends:Array,IsFriends:Boolean},methods:{deleteFriend(e){this.$emit("deleteFriend",e)},acceptFriendRequest(e){this.$emit("acceptFriendRequest",e)},declineFriendRequest(e){this.$emit("declineFriendRequest",e)}}};const aa=(0,S.Z)(ia,[["render",Qi]]);var oa=aa,ra={props:["id"],components:{FriendList:oa},data(){return{friends:[]}},methods:{loadFriendList(){this.$store.dispatch("friend/getFriendList",{id:this.id}).then((e=>this.friends=e))},deleteFriend(e){this.$store.dispatch("friend/refuseFriendship",{friend_id:e}),this.friends=this.friends.filter((t=>t.id!=e))}},mounted(){if(this.loadFriendList(),0!=document.getElementsByClassName("now-side_icon").length){let e=document.getElementsByClassName("now-side_icon")[0],t=document.getElementsByClassName("now-icona")[0];t.classList.remove("now-icona"),e.classList.remove("now-side_icon"),t.classList.add("icona"),e.classList.add("side_icon")}document.getElementById("friend").classList.add("now-side_icon"),document.getElementById("friend").classList.remove("side_icon"),document.getElementById("friend").childNodes[0].childNodes[0].classList.add("now-icona"),document.getElementById("friend").childNodes[0].childNodes[0].classList.remove("icona"),document.title="friend-list-page"}};const da=(0,S.Z)(ra,[["render",Ji]]);var la=da,ca=s.p+"img/killua.31c7e175.jpg",ua=s.p+"img/pngwing.com.b168e794.png",ma=s.p+"img/TSEAdGqJQA0.ead53bdd.jpg",ha=s.p+"img/264x264-000000-80-0-0.3280abb6.jpg",pa=s.p+"img/f4a9f86d273f84cc8e2f632d0e168220.9741a4e8.jpg",ga=s.p+"img/Papich-seksualno-stonet-sadyas-na-shpagat.5ce01a47.webp",fa=s.p+"img/images.5d6d9db4.jpeg",_a=s.p+"img/tumblr_3b537417ba9240a06cbb4cbe5e1aab6b_d0beb585_540.a7836423.jpg",va=s.p+"img/3eab185eeb793ec135ba112b0975ad89--k-on-sleep.d11be153.jpg";const ya={class:"friend_box"},wa=(0,i.uE)('<div class="title_h"><h2 class="requests_h1" id="title">Developer Page</h2></div><div style="border:2px solid #FFD700;" class="friendlist_item" id="friend_item"><img style="border:2px solid #FFD700;" src="'+ca+'" class="friend-avatar image_avatar"><a class="friend_name">Егор Назайкин</a><p>- Гл. Бекендер </p><img style="margin-left:auto;width:5%;aspect-ratio:1/1;margin-right:30px;" src="'+ua+'"></div><div style="border:2px solid #FFD700;" class="friendlist_item" id="friend_item"><img style="border:2px solid #FFD700;" src="'+ma+'" class="friend-avatar image_avatar"><a class="friend_name">Леонид Кучук</a><p>- Тимлид</p><img style="margin-left:auto;width:5%;aspect-ratio:1/1;margin-right:30px;" src="'+ua+'"></div><div style="border:2px solid #FFD700;" class="friendlist_item" id="friend_item"><img style="border:2px solid #FFD700;" src="'+ha+'" class="friend-avatar image_avatar"><a class="friend_name">Давид Какубава</a><p>- Фронтендер и бекендер</p><img style="margin-left:auto;width:5%;aspect-ratio:1/1;margin-right:30px;" src="'+ua+'"></div><div style="border:2px solid #FFD700;" class="friendlist_item" id="friend_item"><img style="border:2px solid #FFD700;" src="'+pa+'" class="friend-avatar image_avatar"><a class="friend_name">Михаил Шатохин</a><p>- Гл. Фронтендер</p><img style="margin-left:auto;width:5%;aspect-ratio:1/1;margin-right:30px;" src="'+ua+'"></div><div style="border:2px solid #FFD700;" class="friendlist_item" id="friend_item"><img style="border:2px solid #FFD700;" src="'+ga+'" class="friend-avatar image_avatar"><a class="friend_name">Марк Камалитдинов</a><p>- Фронтендер и дизайнер</p><img style="margin-left:auto;width:5%;aspect-ratio:1/1;margin-right:30px;" src="'+ua+'"></div><div class="friendlist_item" id="friend_item"><img src="'+fa+'" class="friend-avatar image_avatar"><a class="friend_name">Данила Дерябин</a><p>- Фронтендер</p></div><div class="friendlist_item" id="friend_item"><img src="'+_a+'" class="friend-avatar image_avatar"><a class="friend_name">Николай Прошурин</a><p>- Фронтендер</p></div><div class="friendlist_item" id="friend_item"><img src="'+va+'" class="friend-avatar image_avatar"><a class="friend_name">Анна Гордиенко</a><p>- Бекендерша</p></div>',9),ba=[wa];function ka(e,t,s,n,a,o){return(0,i.wg)(),(0,i.iD)("div",ya,ba)}var Ca={};const Ia=(0,S.Z)(Ca,[["render",ka]]);var Ea=Ia;const Ba={class:"friend_box"},Da={class:"title_h"},Fa=(0,i._)("h2",{class:"requests_h1",id:"title"},"Friend Requests",-1),xa=(0,i.Uk)(" Friends List "),$a={key:0,class:"message_none",style:{display:"flex"}};function La(e,t,s,n,a,o){const r=(0,i.up)("router-link"),d=(0,i.up)("friend-list");return(0,i.wg)(),(0,i.iD)("div",Ba,[(0,i._)("div",Da,[Fa,(0,i.Wm)(r,{to:`/friendlist/${e.$store.state.auth.user.id}`,class:"btn_request_h2",id:"btn"},{default:(0,i.w5)((()=>[xa])),_:1},8,["to"])]),0==a.friends.length?((0,i.wg)(),(0,i.iD)("div",$a,"No requests yet")):(0,i.kq)("",!0),(0,i.Wm)(d,{onAcceptFriendRequest:o.acceptFriendRequest,onDeclineFriendRequest:o.declineFriendRequest,friends:a.friends,IsFriends:!1},null,8,["onAcceptFriendRequest","onDeclineFriendRequest","friends"])])}var Na={props:["id"],components:{FriendList:oa},data(){return{friends:[]}},methods:{loadRequestList(){this.$store.dispatch("friend/getFriendRequestList").then((e=>this.friends=e))},acceptFriendRequest(e){this.$store.dispatch("friend/acceptFriendRequest",{id:e}),this.friends=this.friends.filter((t=>t.id!=e))},declineFriendRequest(e){this.$store.dispatch("friend/declineFriendRequest",{id:e}),this.friends=this.friends.filter((t=>t.id!=e))}},mounted(){if(this.loadRequestList(),0!=document.getElementsByClassName("now-side_icon").length){let e=document.getElementsByClassName("now-side_icon")[0],t=document.getElementsByClassName("now-icona")[0];t.classList.remove("now-icona"),e.classList.remove("now-side_icon"),t.classList.add("icona"),e.classList.add("side_icon")}document.getElementById("friend").classList.add("now-side_icon"),document.getElementById("friend").classList.remove("side_icon"),document.getElementById("friend").childNodes[0].childNodes[0].classList.add("now-icona"),document.getElementById("friend").childNodes[0].childNodes[0].classList.remove("icona"),document.title="requests-list"}};const qa=(0,S.Z)(Na,[["render",La]]);var Pa=qa;const Ua={class:"profile_box"},Sa={class:"content_settings"},ja={id:"profile_avatar",class:"settings_settings_devider"},za=(0,i._)("h3",{class:"settings_block_tittle"},"Profile Picture",-1),Aa={class:"settings_change_menu"},Ra={class:"input-file-row",id:"box-img"},Ma=(0,i._)("span",null,"Select an Image",-1),Ta={id:"input-list",class:"input-file-list",style:{margin:"0px auto"}},Za={class:"input-file-list-item"},Wa=(0,i._)("a",{href:"#",onclick:"removeFilesItem(this); return false;",class:"input-file-list-remove"},"x",-1),Oa=["src"],Ha=(0,i._)("div",{class:"settings_info_box"},[(0,i._)("p",{id:"img-name",class:"displayed_info"},"currentavatar.png")],-1);function Ya(e,t,s,a,o,r){const d=(0,i.up)("profile-settings-side-menu"),l=(0,i.up)("profile-name"),c=(0,i.up)("profile-information"),u=(0,i.up)("profile-data");return(0,i.wg)(),(0,i.iD)("div",Ua,[(0,i.Wm)(d,{onEdit:r.editProfile},null,8,["onEdit"]),(0,i._)("div",Sa,[(0,i._)("form",{onSubmit:t[9]||(t[9]=(0,n.iM)((()=>{}),["prevent"])),id:"edit_form",enctype:"multipart/form-data"},[(0,i._)("div",ja,[za,(0,i._)("div",Aa,[(0,i._)("div",Ra,[(0,i._)("label",{class:"input-file",id:"add_btn",style:{visibility:"hidden",width:"0px",height:"0px",margin:"0px"},onChange:t[1]||(t[1]=e=>r.open(e))},[(0,i._)("input",{onChange:t[0]||(t[0]=(...t)=>e.updateAvatar&&e.updateAvatar(...t)),type:"file",name:"avatar-profile-form",accept:"image/*",id:"id_photo",value:""},null,32),Ma],32),(0,i._)("div",Ta,[(0,i._)("div",Za,[Wa,(0,i._)("img",{style:{height:"10vw","border-radius":"100%","aspect-ratio":"1/1","object-fit":"cover"},class:"input-file-list-img",src:e.$store.getters["auth/user"].avatar},null,8,Oa)])])]),Ha])]),(0,i.Wm)(l,{name:o.profile.name,"onUpdate:name":t[2]||(t[2]=e=>o.profile.name=e),surname:o.profile.surname,"onUpdate:surname":t[3]||(t[3]=e=>o.profile.surname=e)},null,8,["name","surname"]),(0,i.Wm)(c,{about:o.profile.about,"onUpdate:about":t[4]||(t[4]=e=>o.profile.about=e)},null,8,["about"]),(0,i.Wm)(u,{hobby:o.profile.hobby,"onUpdate:hobby":t[5]||(t[5]=e=>o.profile.hobby=e),city:o.profile.city,"onUpdate:city":t[6]||(t[6]=e=>o.profile.city=e),education:o.profile.education,"onUpdate:education":t[7]||(t[7]=e=>o.profile.education=e),company:o.profile.company,"onUpdate:company":t[8]||(t[8]=e=>o.profile.company=e)},null,8,["hobby","city","education","company"])],32)])])}const Va={class:"side_menu_settings"},Ka=(0,i.uE)('<h1 class="settings_tittle" data-v-686979da>Settings</h1><a href="#profile_avatar" class="settings_link" data-v-686979da>Profile Picture</a><a href="#profile_name" class="settings_link" data-v-686979da>Name</a><a href="#profile_information" class="settings_link" data-v-686979da>About</a><a href="#profile_data" class="settings_link" data-v-686979da>Personal Data</a>',5),Ja={class:"settings_buttons"},Qa=(0,i.Uk)("Cancel");function Ga(e,t,s,n,a,o){const r=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",Va,[Ka,(0,i._)("div",Ja,[(0,i.Wm)(r,{to:"/settings",class:"settings_btn settings_btn1"},{default:(0,i.w5)((()=>[Qa])),_:1}),(0,i._)("button",{onClick:t[0]||(t[0]=t=>e.$emit("edit")),class:"settings_btn settings_btn2 settings_save",form:"edit_form"},"Apply")])])}var Xa={};const eo=(0,S.Z)(Xa,[["render",Ga],["__scopeId","data-v-686979da"]]);var to=eo;const so=e=>((0,i.dD)("data-v-fdf9c3c2"),e=e(),(0,i.Cn)(),e),no={id:"profile_avatar",class:"settings_settings_devider"},io=so((()=>(0,i._)("h3",{class:"settings_block_tittle"},"Profile Picture",-1))),ao={class:"settings_change_menu"},oo={class:"input-file-row",id:"box-img"},ro=so((()=>(0,i._)("span",null,"Select an Image",-1))),lo=so((()=>(0,i._)("div",{class:"input-file-list-item"},[(0,i._)("a",{href:"#",onclick:"removeFilesItem(this); return false;",class:"input-file-list-remove"},"x"),(0,i._)("img",{class:"input-file-list-img",src:a})],-1))),co=[lo],uo={class:"settings_info_box"},mo={id:"img-name",class:"displayed_info"};function ho(e,t,s,n,a,o){return(0,i.wg)(),(0,i.iD)("div",no,[io,(0,i._)("div",ao,[(0,i._)("div",oo,[(0,i._)("label",{class:"input-file",id:"add_btn",style:{visibility:"hidden",width:"0px",height:"0px",margin:"0px"},onChange:t[1]||(t[1]=e=>o.open(e))},[(0,i._)("input",{onChange:t[0]||(t[0]=(...t)=>e.updateAvatar&&e.updateAvatar(...t)),type:"file",name:"avatar-profile-form",accept:"image/*",id:"id_photo",value:""},null,32),ro],32),(0,i._)("div",{onChange:t[2]||(t[2]=(...t)=>e.change&&e.change(...t)),id:"input-list",class:"input-file-list",style:{margin:"0px auto"}},co,32)]),(0,i._)("div",uo,[(0,i._)("p",mo,(0,G.zw)(e.namephoto),1)])])])}const po=fi();window.$=po;var go={data(){return{}},methods:{open:function(e){let t=new DataTransfer,s=po(document.getElementById("id_photo")).closest(".input-file").next();s.empty();for(let i=0;i<1;i++){let e=document.getElementById("id_photo").files.item(i);t.items.add(e);let n=new FileReader;n.readAsDataURL(e),document.getElementById("img-name").innerHTML=e.name,n.onloadend=function(){let e='<div style="display: inline-block; vertical-align: top; position: relative;" class="input-file-list-item"><a href="#" onclick="removeFilesItem(this); return false;" style="color: #fff;text-decoration: none; display: inline-block; position: absolute; padding: 0; margin: 0; top: 5px; right: 5px; background: #ff0202; width: 16px; height: 16px; text-align: center; line-height: 16px; border-radius: 50%;" class="input-file-list-remove">x</a><img id="post-img" class="input-file-list-img" style="height: 10vw; border-radius: 100%; aspect-ratio: 1/1; object-fit: cover;" src="'+n.result+'"></div>';s.append(e)}}document.getElementById("id_photo").files=t.files;let n=document.getElementById("add_btn");n.style.visibility="hidden",n.style.width="0",n.style.height="0",n.style.margin="0",document.getElementById("input-list").style.margin="0 auto"}},mounted(){if(0==document.body.getElementsByTagName("script").length){let e=document.createElement("script");e.setAttribute("src","https://snipp.ru/cdn/jquery/2.1.1/jquery.min.js"),document.body.appendChild(e);const t=document.createElement("script");t.innerHTML=pi,document.body.appendChild(t)}new DataTransfer}};const fo=(0,S.Z)(go,[["render",ho],["__scopeId","data-v-fdf9c3c2"]]);var _o=fo;const vo={id:"profile_name",class:"settings_settings_devider"},yo=(0,i._)("h3",{class:"settings_block_tittle"},"Profile Name",-1),wo={class:"settings_change_menu"},bo={class:"settings_info_box"},ko=["value"],Co=["value"];function Io(e,t,s,n,a,o){return(0,i.wg)(),(0,i.iD)("div",vo,[yo,(0,i._)("div",wo,[(0,i._)("div",bo,[(0,i._)("input",{value:s.name,onInput:t[0]||(t[0]=(...e)=>o.updateName&&o.updateName(...e)),placeholder:"",id:"name_input",type:"text",class:"settings_input",required:"",minlength:"2",maxlength:"14",size:"100"},null,40,ko),(0,i._)("input",{value:s.surname,onInput:t[1]||(t[1]=(...e)=>o.updateSurname&&o.updateSurname(...e)),placeholder:"",id:"surname_input",type:"text",class:"settings_input",required:"",minlength:"7",maxlength:"14",size:"100"},null,40,Co)])])])}var Eo={props:{name:String,surname:String},methods:{updateName(e){this.$emit("update:name",e.target.value)},updateSurname(e){this.$emit("update:surname",e.target.value)}}};const Bo=(0,S.Z)(Eo,[["render",Io]]);var Do=Bo;const Fo={id:"profile_information",class:"settings_settings_devider"},xo=(0,i._)("h3",{class:"settings_block_tittle"},"About",-1),$o={class:"settings_change_menu"},Lo={class:"settings_info_box"},No=["value"];function qo(e,t,s,n,a,o){return(0,i.wg)(),(0,i.iD)("div",Fo,[xo,(0,i._)("div",$o,[(0,i._)("div",Lo,[(0,i._)("textarea",{value:s.about,onInput:t[0]||(t[0]=(...e)=>o.updateAbout&&o.updateAbout(...e)),class:"settings_input",rows:"5",cols:"33"},null,40,No)])])])}var Po={props:{about:String},methods:{updateAbout(e){this.$emit("update:about",e.target.value)}}};const Uo=(0,S.Z)(Po,[["render",qo]]);var So=Uo;const jo={id:"profile_data",class:"settings_settings_devider"},zo=(0,i._)("h3",{class:"settings_block_tittle"},"Private Data",-1),Ao={class:"settings_change_menu"},Ro={class:"settings_info_box"},Mo=(0,i._)("label",{for:"id_hobby"},"I like: ",-1),To=["value"],Zo=(0,i._)("label",{for:"id_hobby"},"City/Town: ",-1),Wo=["value"],Oo=(0,i._)("label",{for:"id_hobby"},"Education: ",-1),Ho=["value"],Yo=(0,i._)("label",{for:"id_hobby"},"Company: ",-1),Vo=["value"];function Ko(e,t,s,n,a,o){return(0,i.wg)(),(0,i.iD)("div",jo,[zo,(0,i._)("div",Ao,[(0,i._)("div",Ro,[Mo,(0,i._)("input",{value:s.hobby,onInput:t[0]||(t[0]=(...e)=>o.updateHobby&&o.updateHobby(...e)),id:"settings_hobby",type:"text",class:"settings_input",required:"",minlength:"2",maxlength:"100",size:"100",placeholder:""},null,40,To),Zo,(0,i._)("input",{value:s.city,onInput:t[1]||(t[1]=(...e)=>o.updateCity&&o.updateCity(...e)),id:"settings_city",type:"text",class:"settings_input",required:"",minlength:"2",maxlength:"20",size:"100",placeholder:""},null,40,Wo),Oo,(0,i._)("input",{value:s.education,onInput:t[2]||(t[2]=(...e)=>o.updateEducation&&o.updateEducation(...e)),id:"settings_edu",type:"text",class:"settings_input",required:"",minlength:"2",maxlength:"40",size:"100",placeholder:""},null,40,Ho),Yo,(0,i._)("input",{value:s.company,onInput:t[3]||(t[3]=(...e)=>o.updateCompany&&o.updateCompany(...e)),id:"settings_company",type:"text",class:"settings_input",required:"",minlength:"2",maxlength:"40",size:"100",placeholder:""},null,40,Vo)])])])}var Jo={props:{hobby:String,city:String,education:String,company:String},methods:{updateHobby(e){this.$emit("update:hobby",e.target.value)},updateCity(e){this.$emit("update:city",e.target.value)},updateEducation(e){this.$emit("update:education",e.target.value)},updateCompany(e){this.$emit("update:company",e.target.value)}}};const Qo=(0,S.Z)(Jo,[["render",Ko]]);var Go=Qo;const Xo=fi();window.$=Xo;let er=new DataTransfer;var tr={components:{ProfileData:Go,ProfileInformation:So,ProfileName:Do,ProfileAvatar:_o,ProfileSettingsSideMenu:to},data(){return{profile:{name:this.$store.getters["auth/user"].name,surname:this.$store.getters["auth/user"].surname,about:this.$store.getters["auth/user"].about,hobby:this.$store.getters["auth/user"].hobby,city:this.$store.getters["auth/user"].city,education:this.$store.getters["auth/user"].education,company:this.$store.getters["auth/user"].company}}},methods:{editProfile(){if(!this.profile.name||!this.profile.surname)return;let e=!(0==document.getElementsByClassName("input-file-list-img").length),t=!0,s=null;e&&(t=0==document.getElementById("id_photo").files.length,t||(s=document.getElementById("id_photo").files[0]));let n={name:this.profile.name,surname:this.profile.surname,about:this.profile.about,hobby:this.profile.hobby,city:this.profile.city,education:this.profile.education,company:this.profile.company,with_photo:e,photo_old:t,photo:s};this.$store.dispatch("user/editProfile",n).then((e=>{this.$router.push(`/profile/${this.$store.getters["auth/user"].id}`)}))},checkSideBar(){if(0!=document.getElementsByClassName("now-side_icon").length){let e=document.getElementsByClassName("now-side_icon")[0],t=document.getElementsByClassName("now-icona")[0];t.classList.remove("now-icona"),e.classList.remove("now-side_icon"),t.classList.add("icona"),e.classList.add("side_icon")}document.getElementById("set").classList.add("now-side_icon"),document.getElementById("set").classList.remove("side_icon"),document.getElementById("set").childNodes[0].childNodes[0].classList.add("now-icona"),document.getElementById("set").childNodes[0].childNodes[0].classList.remove("icona")},open:function(e){er=new DataTransfer;let t=Xo(document.getElementById("id_photo")).closest(".input-file").next();t.empty();for(let n=0;n<1;n++){let e=document.getElementById("id_photo").files.item(n);er.items.add(e);let s=new FileReader;s.readAsDataURL(e),document.getElementById("img-name").innerHTML=e.name,s.onloadend=function(){let e='<div style="display: inline-block; vertical-align: top; position: relative;" class="input-file-list-item"><a href="#" onclick="removeFilesItem(this); return false;" style="color: #fff;text-decoration: none; display: inline-block; position: absolute; padding: 0; margin: 0; top: 5px; right: 5px; background: #ff0202; width: 16px; height: 16px; text-align: center; line-height: 16px; border-radius: 50%;" class="input-file-list-remove">x</a><img id="post-img" class="input-file-list-img" style="height: 10vw; border-radius: 100%; aspect-ratio: 1/1; object-fit: cover;" src="'+s.result+'"></div>';t.append(e)}}document.getElementById("id_photo").files=er.files;let s=document.getElementById("add_btn");s.style.visibility="hidden",s.style.width="0",s.style.height="0",s.style.margin="0",document.getElementById("input-list").style.margin="0 auto"}},mounted(){if(this.checkSideBar(),0==document.body.getElementsByTagName("script").length){let e=document.createElement("script");e.setAttribute("src","https://snipp.ru/cdn/jquery/2.1.1/jquery.min.js"),document.body.appendChild(e);const t=document.createElement("script");t.innerHTML=pi,document.body.appendChild(t)}document.title="settings-profile"}};const sr=(0,S.Z)(tr,[["render",Ya]]);var nr=sr;const ir={class:"post-workspace"};function ar(e,t,s,n,a,o){const r=(0,i.up)("post-form");return(0,i.wg)(),(0,i.iD)("div",ir,[a.post?((0,i.wg)(),(0,i.j4)(r,{key:0,isEdit:!0,HaveImg:Boolean(a.post.photo),oldPost:a.post},null,8,["HaveImg","oldPost"])):(0,i.kq)("",!0)])}var or={components:{PostForm:wi},props:["id"],data(){return{post:!1}},methods:{loadPost(){this.$store.dispatch("post/getPost",{id:this.id}).then((e=>this.post=e))}},created(){this.loadPost()},mounted(){if(0!=document.getElementsByClassName("now-side_icon").length){let e=document.getElementsByClassName("now-side_icon")[0],t=document.getElementsByClassName("now-icona")[0];t.classList.remove("now-icona"),e.classList.remove("now-side_icon"),t.classList.add("icona"),e.classList.add("side_icon")}document.title="post-edit"}};const rr=(0,S.Z)(or,[["render",ar]]);var dr=rr;const lr={class:"container"},cr=(0,i._)("h1",{class:"chat-info-title"},"Info",-1),ur={class:"input-img"},mr={class:"chat-name"},hr=["src"],pr=(0,i.Uk)("Edit");function gr(e,t,s,n,a,o){const r=(0,i.up)("chat-member-list"),d=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",lr,[cr,(0,i._)("div",ur,[(0,i._)("h2",mr,"Name: "+(0,G.zw)(a.chat.name),1),(0,i._)("img",{src:a.chat.avatar,class:"chat-avatar-info"},null,8,hr)]),(0,i.Wm)(r,{members:a.members},null,8,["members"]),a.mode>2?((0,i.wg)(),(0,i.j4)(d,{key:0,to:`/chat/${a.chat.id}/edit`,class:"btn-save"},{default:(0,i.w5)((()=>[pr])),_:1},8,["to"])):(0,i.kq)("",!0),(0,i._)("button",{onClick:t[0]||(t[0]=(...e)=>o.leaveChat&&o.leaveChat(...e)),class:"btn-discard"},"Exit Chat")])}const fr={style:{"margin-bottom":"30px"}};function _r(e,t,s,n,a,o){const r=(0,i.up)("chat-member-item");return(0,i.wg)(),(0,i.iD)("div",fr,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.members,(e=>((0,i.wg)(),(0,i.j4)(r,{key:e.id,member:e},null,8,["member"])))),128))])}const vr={class:"friendlist_item"},yr=["src"],wr={class:"friend_name"};function br(e,t,s,n,a,o){const r=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",vr,[(0,i._)("img",{src:s.member.avatar,class:"friend-avatar"},null,8,yr),(0,i.Wm)(r,{class:"friend_name",to:`/profile/${s.member.id}`},{default:(0,i.w5)((()=>[(0,i.Uk)((0,G.zw)(s.member.name)+" "+(0,G.zw)(s.member.surname),1)])),_:1},8,["to"]),(0,i._)("span",wr,(0,G.zw)(s.member.access_description),1)])}var kr={props:{member:Object}};const Cr=(0,S.Z)(kr,[["render",br]]);var Ir=Cr,Er={components:{ChatMemberItem:Ir},props:{members:Array}};const Br=(0,S.Z)(Er,[["render",_r]]);var Dr=Br,Fr={components:{ChatMemberList:Dr},data(){return{chat:{},members:[],mode:0}},props:["id"],methods:{loadChat(){console.log("execute"),this.$store.dispatch("chat/getChatInfo",{id:this.id}).then((e=>{this.chat=e.chat,this.members=e.members,this.$store.dispatch("chat/getChatAccessMode",{id:this.id}).then((e=>{console.log(e),this.mode=e,e<1&&this.$router.push("/chatlist")}))}))},leaveChat(){this.$store.dispatch("chat/leaveChat",{id:this.chat.id}).then((e=>this.$router.push("/chatlist")))}},created(){this.loadChat()}};const xr=(0,S.Z)(Fr,[["render",gr]]);var $r=xr;const Lr={class:"container"};function Nr(e,t,s,n,a,o){const r=(0,i.up)("multi-chat-settings-form");return(0,i.wg)(),(0,i.iD)("div",Lr,[(0,i.Wm)(r,{IsEdit:!1,oldInvitable:a.friends,name:a.name,"onUpdate:name":t[0]||(t[0]=e=>a.name=e)},null,8,["oldInvitable","name"])])}const qr=e=>((0,i.dD)("data-v-3b2905ae"),e=e(),(0,i.Cn)(),e),Pr={key:0,class:"chat-info-title"},Ur={key:1,class:"chat-info-title"},Sr={class:"input-img"},jr={key:0,class:"input-file-row",id:"box-img"},zr=qr((()=>(0,i._)("input",{type:"file",name:"chat-photo-form",accept:"image/*",id:"id_photo",value:""},null,-1))),Ar=qr((()=>(0,i._)("span",null,"Select an Image",-1))),Rr=[zr,Ar],Mr={id:"input-list",class:"input-file-list",style:{margin:"0px auto"}},Tr={class:"input-file-list-item"},Zr=qr((()=>(0,i._)("a",{href:"#",onclick:"removeFilesItem(this); return false;",class:"input-file-list-remove"},"x",-1))),Wr=["src"],Or={key:1,class:"input-file-row",id:"box-img"},Hr=qr((()=>(0,i._)("input",{type:"file",name:"chat-photo-form",accept:"image/*",id:"id_photo"},null,-1))),Yr=qr((()=>(0,i._)("span",null,"Choose an Image",-1))),Vr=[Hr,Yr],Kr=qr((()=>(0,i._)("div",{id:"input-list",class:"input-file-list"},null,-1))),Jr=qr((()=>(0,i._)("div",{class:"settings_info_box"},[(0,i._)("p",{id:"img-name",class:"displayed_info"},"currentavatar.png")],-1))),Qr={class:"members",id:"members"},Gr={class:"input-chat"},Xr=["value"],ed={key:0,class:"invitable"},td=qr((()=>(0,i._)("label",{for:"invitable"},"Friends:",-1))),sd=["src"],nd={class:"friend_name"},id=["onUpdate:modelValue"],ad={key:1,class:"invitable"},od=qr((()=>(0,i._)("label",{for:"invitable"},"Members:",-1))),rd=["src"],dd={class:"friend_name"},ld=["onUpdate:modelValue"],cd={key:2,style:{"margin-bottom":"20px"},class:"invitable"},ud=qr((()=>(0,i._)("label",{for:"invitable"},"Invitable:",-1))),md=["src"],hd={class:"friend_name"},pd=["onUpdate:modelValue"],gd=(0,i.Uk)("Cancel"),fd=(0,i.Uk)("Cancel");function _d(e,t,s,a,o,r){const d=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)(i.HY,null,[s.IsEdit?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("h1",Pr,"New Multychat")),s.IsEdit?((0,i.wg)(),(0,i.iD)("h1",Ur,"Settings Chat")):(0,i.kq)("",!0),(0,i._)("form",{id:"members-form",onSubmit:t[5]||(t[5]=(0,n.iM)((()=>{}),["prevent"])),enctype:"multipart/form-data"},[(0,i._)("div",Sr,[s.IsEdit?((0,i.wg)(),(0,i.iD)("div",jr,[(0,i._)("label",{onChange:t[0]||(t[0]=e=>r.open(e)),class:"input-file",id:"add_btn",style:{visibility:"hidden",width:"0px",height:"0px",margin:"0px"}},Rr,32),(0,i._)("div",Mr,[(0,i._)("div",Tr,[Zr,(0,i._)("img",{class:"input-file-list-img",src:s.defaultAvatar},null,8,Wr)])])])):((0,i.wg)(),(0,i.iD)("div",Or,[(0,i._)("label",{onChange:t[1]||(t[1]=e=>r.open(e)),class:"input-file",id:"add_btn"},Vr,32),Kr])),Jr]),(0,i._)("div",Qr,[(0,i._)("div",Gr,[(0,i._)("input",{onInput:t[2]||(t[2]=(...e)=>r.updateName&&r.updateName(...e)),class:"input-from-multychat",type:"text",id:"chat-name-input",name:"chat-name-form",value:s.name,placeholder:"Name"},null,40,Xr)])]),s.IsEdit?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",ed,[td,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.invitable,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"friendlist_item",key:e.id},[(0,i._)("img",{class:"friend-avatar",src:e.avatar},null,8,sd),(0,i.Wm)(d,{class:"friend_name",to:`/profile/${e.id}`},null,8,["to"]),(0,i._)("span",nd,(0,G.zw)(e.name)+" "+(0,G.zw)(e.surname),1),(0,i.wy)((0,i._)("input",{type:"checkbox",name:"members-checkbox-form","onUpdate:modelValue":t=>e.checked=t},null,8,id),[[n.e8,e.checked]])])))),128))])),s.IsEdit?((0,i.wg)(),(0,i.iD)("div",ad,[od,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.members,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"friendlist_item",key:e.id},[(0,i._)("img",{class:"friend-avatar",src:e.avatar},null,8,rd),(0,i.Wm)(d,{class:"friend_name",to:`/profile/${e.id}`},null,8,["to"]),(0,i._)("span",dd,(0,G.zw)(e.name)+" "+(0,G.zw)(e.surname),1),(0,i.wy)((0,i._)("input",{type:"checkbox",name:"members-checkbox-form","onUpdate:modelValue":t=>e.checked=t},null,8,ld),[[n.e8,e.checked]])])))),128))])):(0,i.kq)("",!0),s.IsEdit?((0,i.wg)(),(0,i.iD)("div",cd,[ud,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.invitable,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"friendlist_item",key:e.id},[(0,i._)("img",{class:"friend-avatar",src:e.avatar},null,8,md),(0,i.Wm)(d,{class:"friend_name",to:`/profile/${e.id}`},null,8,["to"]),(0,i._)("span",hd,(0,G.zw)(e.name)+" "+(0,G.zw)(e.surname),1),(0,i.wy)((0,i._)("input",{type:"checkbox",name:"members-checkbox-form","onUpdate:modelValue":t=>e.checked=t},null,8,pd),[[n.e8,e.checked]])])))),128))])):(0,i.kq)("",!0),s.IsEdit?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("button",{key:3,onClick:t[3]||(t[3]=(...e)=>r.createChat&&r.createChat(...e)),class:"btn-save",type:"submit",form:"members-form"},"Create")),s.IsEdit?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(d,{key:4,to:"/chatlist",class:"btn-discard"},{default:(0,i.w5)((()=>[gd])),_:1})),s.IsEdit?((0,i.wg)(),(0,i.iD)("button",{key:5,onClick:t[4]||(t[4]=(...e)=>r.editChat&&r.editChat(...e)),class:"btn-save",type:"submit",form:"members-form"},"Save")):(0,i.kq)("",!0),s.IsEdit?((0,i.wg)(),(0,i.j4)(d,{key:6,to:"/chat/1/info",class:"btn-discard",href:"/chatlist"},{default:(0,i.w5)((()=>[fd])),_:1})):(0,i.kq)("",!0)],32)],64)}const vd=["src"],yd={class:"friend_name"},wd=["onUpdate:modelValue"];function bd(e,t,s,a,o,r){const d=(0,i.up)("router-link");return(0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.users,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"friendlist_item",key:e.id},[(0,i._)("img",{class:"friend-avatar",src:e.avatar},null,8,vd),(0,i.Wm)(d,{class:"friend_name",to:`/profile/${e.id}`},null,8,["to"]),(0,i._)("span",yd,(0,G.zw)(e.name)+" "+(0,G.zw)(e.surname),1),(0,i.wy)((0,i._)("input",{type:"checkbox",name:"members-checkbox-form","onUpdate:modelValue":t=>e.checked=t},null,8,wd),[[n.e8,e.checked]])])))),128)}var kd={data(){return{users:[]}},props:{checked:Array},methods:{updateChecked(){console.log("checked"),this.$emit("update:checked",this.users)}},created(){this.users=this.checked},watch:{users(){this.updateChecked()}}};const Cd=(0,S.Z)(kd,[["render",bd]]);var Id=Cd;const Ed=fi();window.$=Ed;var Bd={components:{ChatMemberChoice:Id},data(){return{members:[],invitable:[]}},props:{IsEdit:Boolean,oldMembers:Array,oldInvitable:Array,name:String,id:Number,defaultAvatar:String},methods:{updateName(e){this.$emit("update:name",e.target.value)},editChat(){let e=!(0==document.getElementsByClassName("input-file-list-img").length),t=!0,s=null;e&&(t=0==document.getElementById("id_photo").files.length,t||(s=document.getElementById("id_photo").files[0]));let n=[...this.members.filter((e=>e.checked)),...this.invitable.filter((e=>e.checked))],i=[];n.forEach((e=>{i.push(e.id)}));let a=this.name,o={id:this.id,with_photo:e,photo_old:t,name:a,photo:s,members:i};console.log(o),this.$store.dispatch("chat/editChat",o).then((e=>{this.$router.push(`/chat/${e}`)}))},createChat(){if(!this.name)return alert("Chat name is required"),!1;let e=!(0==document.getElementsByClassName("input-file-list-img").length),t=document.getElementById("id_photo").files[0],s=[...this.invitable.filter((e=>e.checked))],n=[];s.forEach((e=>{n.push(e.id)}));let i=this.name,a={with_photo:e,name:i,photo:t,members:n};console.log(a),this.$store.dispatch("chat/createChat",a).then((e=>{this.$router.push(`/chat/${e}`)}))},open:function(e){let t=new DataTransfer,s=Ed(document.getElementById("id_photo")).closest(".input-file").next();s.empty();for(let i=0;i<1;i++){let e=document.getElementById("id_photo").files.item(i);t.items.add(e);let n=new FileReader;n.readAsDataURL(e),document.getElementById("img-name").innerHTML=e.name,n.onloadend=function(){let e='<div style="display: inline-block; vertical-align: top; position: relative;" class="input-file-list-item"><a href="#" onclick="removeFilesItem(this); return false;" style="color: #fff;text-decoration: none; display: inline-block; position: absolute; padding: 0; margin: 0; top: 5px; right: 5px; background: #ff0202; width: 16px; height: 16px; text-align: center; line-height: 16px; border-radius: 50%;" class="input-file-list-remove">x</a><img id="post-img" class="input-file-list-img" style="height: 10vw; border-radius: 100%; aspect-ratio: 1/1; object-fit: cover;" src="'+n.result+'"></div>';s.append(e)}}document.getElementById("id_photo").files=t.files;let n=document.getElementById("add_btn");n.style.visibility="hidden",n.style.width="0",n.style.height="0",n.style.margin="0",document.getElementById("input-list").style.margin="0 auto"}},watch:{oldMembers(){this.members=this.oldMembers},oldInvitable(){this.invitable=this.oldInvitable}},mounted(){if(0==document.body.getElementsByTagName("script").length){let e=document.createElement("script");e.setAttribute("src","https://snipp.ru/cdn/jquery/2.1.1/jquery.min.js"),document.body.appendChild(e);const t=document.createElement("script");t.innerHTML=pi,document.body.appendChild(t)}new DataTransfer}};const Dd=(0,S.Z)(Bd,[["render",_d],["__scopeId","data-v-3b2905ae"]]);var Fd=Dd,xd={components:{MultiChatSettingsForm:Fd},data(){return{friends:[],name:""}},methods:{loadFriends(){return this.$store.dispatch("friend/getFriendList",{id:this.$store.getters["auth/user"].id}).then((e=>(this.friends=e,e)))},addCheckedFields(){this.friends.forEach((e=>{e.checked=!1}))}},created(){this.loadFriends().then((e=>{this.addCheckedFields()}))}};const $d=(0,S.Z)(xd,[["render",Nr]]);var Ld=$d;const Nd={class:"container"};function qd(e,t,s,n,a,o){const r=(0,i.up)("multi-chat-settings-form");return(0,i.wg)(),(0,i.iD)("div",Nd,[(0,i.Wm)(r,{IsEdit:!0,defaultAvatar:a.chat.avatar,name:a.chat.name,"onUpdate:name":t[0]||(t[0]=e=>a.chat.name=e),oldMembers:a.members,oldInvitable:a.friends,id:a.chat.id},null,8,["defaultAvatar","name","oldMembers","oldInvitable","id"])])}var Pd={components:{MultiChatSettingsForm:Fd},data(){return{chat:{},members:[],friends:[]}},props:{id:Number},methods:{loadChat(){return this.$store.dispatch("chat/getChatInfo",{id:this.id}).then((e=>(this.chat=e.chat,this.members=e.members,this.$store.dispatch("chat/getChatAccessMode",{id:this.id}).then((e=>{e<3&&this.$router.push("/chatlist")})),e)))},friendNotInMembers(e){for(let t=0;t<this.members.length;++t)if(this.members[t].id==e.id)return!1;return!0},loadFriends(){return this.$store.dispatch("friend/getFriendList",{id:this.$store.getters["auth/user"].id}).then((e=>(this.friends=e,e)))},filterInvitable(){this.friends=this.friends.filter((e=>this.friendNotInMembers(e)))},addCheckedFields(){this.friends.forEach((e=>{e.checked=!1})),this.members.forEach((e=>{e.checked=!0}))}},created(){this.loadChat().then((e=>{this.loadFriends().then((e=>{this.filterInvitable(),this.addCheckedFields(),this.chat.isMulty||this.$router.push("/chatlist")}))}))}};const Ud=(0,S.Z)(Pd,[["render",qd]]);var Sd=Ud;const jd=[{path:"/registration",name:"registration",component:be},{path:"/settings",name:"settings-page",component:rs},{path:"/login",name:"login",component:je},{path:"/feed",name:"feed",component:gs},{path:"/profile/:id",props:!0,name:"profile",component:Yt},{path:"/:pathMatch(.*)*",name:"NotFound",component:ts},{path:"/chat/:id",props:!0,name:"chat",component:Os},{path:"/chatlist",name:"chatlist",component:gn},{path:"/post/:id",props:!0,name:"post",component:zn},{path:"/bookmarks",name:"bookmarks",component:Hn},{path:"/addpost",name:"addpost",component:Ci},{path:"/findfriend",name:"findfriend",component:Wi},{path:"/requestlist",name:"requestlist",component:Pa},{path:"/friendlist/:id",props:!0,name:"friendlist",component:la},{path:"/editpost/:id",props:!0,name:"editpost",component:dr},{path:"/settings/profile",name:"settingsprofile",component:nr},{path:"/dev",name:"dev",component:Ea},{path:"/chat/:id/info",props:!0,component:$r},{path:"/multychatcreate",component:Ld},{path:"/chat/:id/edit",props:!0,component:Sd}],zd=(0,Z.p7)({history:(0,Z.PO)("/goodchatclient/"),routes:jd});zd.beforeEach(((e,t,s)=>{const n=["/login","/registration"],i=!n.includes(e.path),a=Q.getUser();if(i&&!a)return s("/login");s()}));var Ad=zd,Rd=s(65);const Md="https://goodchat.pythonanywhere.com/";class Td{login(e){let t="api/token",s=Md+t,n={username:e.username,password:e.password};return W.Z.post(s,n).then((e=>e.data?(H.setToken(e.data),Q.loadUser()):e.data))}logout(){H.removeToken(),Q.removeUser()}register(e){let t="api/register",s=Md+t,n={name:e.name,surname:e.surname,login:e.login,email:e.email,password:e.password};return W.Z.post(s,n)}}var Zd=new Td;const Wd=Q.getUser(),Od=Wd?{status:{loggedIn:!0},user:Wd}:{status:{loggedIn:!1},user:null},Hd={namespaced:!0,state:Od,mutations:{loginSuccess(e,t){e.status.loggedIn=!0,e.user=t},updateUser(e,t){e.user=t},loginFailure(e){e.status.loggedIn=!1,e.user=null},logout(e){e.status.loggedIn=!1,e.user=null},registerSuccess(e){e.status.loggedIn=!1},registerFailure(e){e.status.loggedIn=!1}},actions:{login({commit:e},t){return Zd.login(t).then((t=>(e("loginSuccess",Q.getUser()),e("user/setUser",t,{root:!0}),Promise.resolve("login success"))),(t=>(e("loginFailure"),Promise.reject(t))))},logout({commit:e}){Zd.logout(),e("logout")},register({commit:e},t){return Zd.register(t).then((t=>{if(console.log(t),"ok"===t.data.status)return e("registerSuccess"),Promise.resolve(t.data);{e("registerFailure");let s={message:t.data.message,code:900};return Promise.reject(s)}}),(t=>(e("registerFailure"),Promise.reject(t))))},reloadUser({commit:e}){console.log("userreloaded"),e("updateUser",Q.getUser())}},getters:{user(e){return e.user}}};class Yd{getUser(e){let t=`profile/${e}`;return K.get(t).then((e=>e.data))}findUser(e){let t="users/find",s={querry:e};return K.post(t,s).then((e=>e.data))}editProfile(e){let t="profile/edit";return console.log(e),K.postForm(t,e).then((e=>e.data))}}var Vd=new Yd;let Kd={user:Q.getUser()};const Jd={namespaced:!0,state:Kd,mutations:{setUser(e,t){e.user=t}},actions:{loadSelfUser({commit:e}){e("setUser",Q.getUser())},getUser({state:e},t){return Vd.getUser(t.id).then((e=>e.user),(e=>Promise.reject("User does not exist")))},isUserSelf({state:e},t){return e.user.id==t.id},findUser(e,t){return Vd.findUser(t.querry).then((e=>e.users))},editProfile({dispatch:e},t){let s={name:t.name,surname:t.surname,about:t.about,hobby:t.hobby,city:t.city,education:t.education,company:t.company,with_photo:t.with_photo,photo_old:t.photo_old,photo:t.photo};return Vd.editProfile(s).then((t=>{Q.loadUser().then((t=>{console.log(t),e("loadSelfUser"),e("auth/reloadUser",{},{root:!0})}))}))}}};class Qd{getPost(e){let t=`post/${e}`;return K.get(t).then((e=>e.data))}getUserPosts(e){let t=`post/getUserPosts/${e}`;return K.get(t).then((e=>e.data))}getFeed(){let e="post/getFeed";return K.get(e).then((e=>e.data))}getBookmarks(){let e="bookmarks";return K.get(e).then((e=>e.data))}addPost(e){if(!e.photo&&!e.content)return;let t=e.photo?e.photo:"",s=e.content?e.content:"",n="post/new",i=new FormData;return i.append("content",s),i.append("photo",t),K.post(n,i).then((e=>e.data))}editPost(e){if(!e.withPhoto&&!e.content)return;let t=`post/${e.id}/edit`,s=new FormData;return s.append("content",e.content),s.append("with_photo",e.withPhoto),s.append("photo_old",e.isPhotoOld),s.append("photo",e.photo),K.post(t,s).then((e=>e.data))}deletePost(e){let t=`post/${e}/delete`;return K.get(t).then((e=>e.data))}addDeleteBookmark(e){let t=`post/${e}/bookmark`;return K.get(t).then((e=>e.data))}}var Gd=new Qd;const Xd={namespaced:!0,actions:{async getPost(e,t){return Gd.getPost(t.id).then((e=>e.post))},async getUserPosts(e,t){return Gd.getUserPosts(t.id).then((e=>e.posts))},async getFeed(){return Gd.getFeed().then((e=>e.posts))},async getBookmarks(){return Gd.getBookmarks().then((e=>e.posts))},async addPost(e,t){let s={photo:t.photo,content:t.content};return Gd.addPost(s).then((e=>e.id))},async editPost(e,t){let s={id:t.id,content:t.content,withPhoto:t.withPhoto,isPhotoOld:t.isPhotoOld,photo:t.photo};return Gd.editPost(s).then((e=>e.id))},async deletePost(e,t){return Gd.deletePost(t.id)},async addDeleteBookmark(e,t){return Gd.addDeleteBookmark(t.id).then((e=>e.status))}}};class el{getChat(e){let t=`chat/${e}`;return K.get(t).then((e=>e.data))}getChatlist(){let e="chatlist";return K.get(e).then((e=>(console.log(e.data),e.data)))}getChatInfo(e){let t=`chat/${e}/info`;return K.get(t).then((e=>e.data))}sendMessage(e){let t="chat/sendMessage";return K.post(t,e).then((e=>e.data))}getDialogId(e){let t=`dialog/get/${e}`;return K.get(t).then((e=>e.data))}editChat(e){let t=`chat/${e.id}/edit`;return console.log(e),K.postForm(t,e).then((e=>e.data))}createChat(e){let t="chat/create";return console.log(e),K.postForm(t,e).then((e=>e.data))}getChatAccessMode(e){let t=`chat/${e}/access`;return K.get(t).then((e=>e.data))}leaveChat(e){let t=`chat/${e}/leave`;return K.get(t).then((e=>e.data))}}var tl=new el;const sl={namespaced:!0,actions:{async getChat(e,t){return tl.getChat(t.id).then((e=>e.chat))},async getChatInfo(e,t){return tl.getChatInfo(t.id).then((e=>e))},async getChatlist(){return tl.getChatlist().then((e=>e.chats))},async sendMessage(e,t){let s={chat_id:t.chat_id,content:t.content};return tl.sendMessage(s).then((e=>e.message))},async getDialogId(e,t){return tl.getDialogId(t.id).then((e=>e.dialog_id))},async editChat(e,t){return tl.editChat(t).then((e=>e.id))},async createChat(e,t){return tl.createChat(t).then((e=>e.id))},async getChatAccessMode(e,t){return tl.getChatAccessMode(t.id).then((e=>e.mode))},async leaveChat(e,t){return tl.leaveChat(t.id)}}};class nl{getComments(e){let t=`post/${e}/comments`;return K.get(t).then((e=>e.data))}sendComment(e){let t="comment/send";return K.post(t,e).then((e=>e.data))}}var il=new nl;const al={namespaced:!0,actions:{getComments(e,t){return il.getComments(t.post_id).then((e=>e.comments))},sendComment(e,t){let s={post_id:t.post_id,content:t.content};return il.sendComment(s).then((e=>e.comment))}}};class ol{getFriendList(e){let t=`friendlist/${e}`;return K.get(t).then((e=>e.data))}getFriendRequestList(){let e="friend/request/list";return K.get(e).then((e=>e.data))}getFriendshipStatus(e){let t=`friendship/status/${e}`;return K.get(t).then((e=>e.data))}refuseFriendship(e){let t="friendship/refuse";return K.post(t,e).then((e=>console.log(e.status)))}sendFriendRequest(e){let t=`friend/request/send/${e}`;return K.get(t).then((e=>e.data))}withdrawFriendRequest(e){let t=`friend/request/withdraw/${e}`;return K.get(t).then((e=>e.data))}acceptFriendRequest(e){let t=`friend/request/accept/${e}`;return K.get(t).then((e=>e.data))}declineFriendRequest(e){let t=`friend/request/decline/${e}`;return K.get(t).then((e=>e.data))}}var rl=new ol;const dl={namespaced:!0,actions:{getFriendList(e,t){return rl.getFriendList(t.id).then((e=>e.friends))},getFriendRequestList(){return rl.getFriendRequestList().then((e=>e.inviters))},refuseFriendship({rootGetters:e},t){let s={user1_id:e["auth/user"].id,user2_id:t.friend_id};return rl.refuseFriendship(s)},getFriendshipStatus(e,t){return rl.getFriendshipStatus(t.id).then((e=>e.status))},sendFriendRequest(e,t){return rl.sendFriendRequest(t.id)},withdrawFriendRequest(e,t){return rl.withdrawFriendRequest(t.id)},acceptFriendRequest(e,t){return rl.acceptFriendRequest(t.id)},declineFriendRequest(e,t){return rl.declineFriendRequest(t.id)}}};var ll=(0,Rd.MT)({modules:{auth:Hd,user:Jd,post:Xd,chat:sl,comment:al,friend:dl}});s(1129);(0,n.ri)(T).use(ll).use(Ad).mount("#app")}},t={};function s(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,s),a.exports}s.m=e,function(){var e=[];s.O=function(t,n,i,a){if(!n){var o=1/0;for(c=0;c<e.length;c++){n=e[c][0],i=e[c][1],a=e[c][2];for(var r=!0,d=0;d<n.length;d++)(!1&a||o>=a)&&Object.keys(s.O).every((function(e){return s.O[e](n[d])}))?n.splice(d--,1):(r=!1,a<o&&(o=a));if(r){e.splice(c--,1);var l=i();void 0!==l&&(t=l)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,i,a]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.p="/goodchatclient/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,a,o=n[0],r=n[1],d=n[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(i in r)s.o(r,i)&&(s.m[i]=r[i]);if(d)var c=d(s)}for(t&&t(n);l<o.length;l++)a=o[l],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(c)},n=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=s.O(void 0,[998],(function(){return s(7927)}));n=s.O(n)})();
//# sourceMappingURL=app.9f5e54e6.js.map